import{a as Nm}from"./chunk-HOXNSSII.js";import{a as Rm,b as Fm,c as Lm,d as xr,e as Vm,f as $m,g as Zi}from"./chunk-CGDN4YFO.js";import{b as km,d as Im,e as Pm,f as Om}from"./chunk-ZY7N43G3.js";import{k as Dm}from"./chunk-LZKJMB25.js";import{a as Em}from"./chunk-A7MPH52G.js";import{a as xm,b as Tm,c as Am,d as wm,g as Mm}from"./chunk-U2FIRDZQ.js";import{a as Be,b as ai,c as pc,d as dc}from"./chunk-S3KTFMRX.js";import{a as Wc,c as Yc}from"./chunk-IA7RXMQU.js";import{a as cr,b as Ki,c as Oo,d as fi,e as hi,f as gi,g as mr,h as pr,i as dr}from"./chunk-7SRR7VBT.js";import{$ as mm,Aa as Yi,Ba as _i,Ca as br,Da as Xi,Ea as $o,Fa as gm,Ga as vi,Ha as Bo,Ia as Er,K as Ql,L as Wl,La as ym,P as Yl,Q as Xl,R as Zl,S as Jl,T as tc,U as ec,W as om,Z as am,a as Bl,ba as ct,ca as pm,da as dm,ea as fr,fa as hr,ga as gr,h as Hl,ha as qi,ia as Ro,ja as yr,k as jl,ka as Sr,la as Gi,ma as _r,na as vr,oa as Fo,pa as Qi,q as Ao,qa as Ee,r as zl,ra as Cr,s as Ul,sa as Xe,t as Kl,ta as Wi,u as ql,ua as um,va as fm,wa as hm,x as wo,xa as Si,y as Gl,ya as Lo,za as Vo}from"./chunk-X6AXUZWH.js";import{a as im}from"./chunk-YMVJL3DN.js";import{a as vc,b as Cc,c as bc,d as Ec,e as xc,f as Tc,g as Ac,h as wc,i as pi,j as Mc}from"./chunk-CBA5RJT7.js";import{a as bm}from"./chunk-YAPHILV6.js";import{c as xe,d as Te,f as Ho,g as jo,h as zo,i as Ci,k as Sm,m as Uo,n as _m,o as vm,p as Ko,q as ze,r as qo,s as Cm,u as Go,v as Qo}from"./chunk-SYCBYTGS.js";import"./chunk-K3KCICPY.js";import{b as No}from"./chunk-USKH5NQQ.js";import{c as Vl}from"./chunk-CZQKJU4P.js";import{a as lm,b as cm}from"./chunk-YNAHSSIU.js";import{a as Xc,b as Zc,f as Jc}from"./chunk-TOJP6BL4.js";import{a as Qn}from"./chunk-P3FTPMZO.js";import{a as be}from"./chunk-5RTQM35A.js";import{a as Ce}from"./chunk-6BCLBAXP.js";import{a as Wt}from"./chunk-NXI4QVMO.js";import{a as em}from"./chunk-JKNYRRVB.js";import{a as tm}from"./chunk-OA4FPU52.js";import"./chunk-ZRBJDJQ5.js";import{a as sm}from"./chunk-Q6DV5YW2.js";import"./chunk-GLMTR4F7.js";import{a as rl,b as ol,d as yi}from"./chunk-HNZDXFPJ.js";import{a as nl,b as Ht}from"./chunk-XBWG4U2D.js";import{a as sc,b as ac,c as lc,d as cc,e as mc}from"./chunk-JKWA4XGQ.js";import{a as ui}from"./chunk-UEVDWXDZ.js";import{a as nm,b as rm,c as ur}from"./chunk-TDXLRBKX.js";import{b as uc,d as fc,e as hc,f as gc}from"./chunk-F2X5MUCL.js";import"./chunk-G2YQC6S7.js";import{a as ue}from"./chunk-BNE42N4I.js";import{b as li,c as At,d as jt,e as zt,f as Ut,g as Kt,h as de}from"./chunk-IWRENPI3.js";import{a as Ln,b as Ml,c as Dl,d as kl,e as Il,f as Pl,g as Vn,h as $n,i as Bn,j as Hn,k as jn,l as To}from"./chunk-UR2CNGUF.js";import{a as vt}from"./chunk-TLTMSWMP.js";import{c as Mo,d as oc,e as Zn,f as ko,g as Ic,h as Pc,i as Io,j as Jn,k as Po,m as Oc,n as jc,o as zc,p as or,q as sr,r as Uc}from"./chunk-BJATDHVS.js";import{a as tr,b as er,c as Lc,d as Kc,e as qc}from"./chunk-XJYHRIQ3.js";import{a as ar,b as lr,c as Gc,d as Qc}from"./chunk-LEZ2TPWV.js";import{a as gt}from"./chunk-3XSJYY3F.js";import{B as Ui,a as Kn,b as $l,c as rc,d as We,e as Wn,f as Dc,g as Bi,h as di,i as Do,j as Hi,k as kc,l as Yn,m as Xn,n as Rc,o as Fc,p as Vc,q as ir,r as ji,s as nr,t as Ye,u as zi,v as $c,w as Bc,x as rr,y as Hc}from"./chunk-IIYMSLSI.js";import{a as Rl,b as Fl,c as Ll,e as Nc}from"./chunk-FYXKNFUG.js";import"./chunk-4QJQ2NTH.js";import"./chunk-3RK6DDJD.js";import{a as Sc,b as _c}from"./chunk-AVIPSPKT.js";import{a as el,b as si,c as il}from"./chunk-46GIDZRI.js";import{a as A,b as dt,c as E,d as yc}from"./chunk-VPHZJBNG.js";import{a as ht}from"./chunk-2C4FWDLZ.js";import{a as _o,b as kn,c as Ya,d as In,e as Xa,f as Pn,g as Za,h as vo}from"./chunk-QOQJHS5Z.js";import{b as qn,c as Gn}from"./chunk-NRTQHBBM.js";import{b as je,c as ic,g as nc,h as ci,i as mi}from"./chunk-VJHFRKVA.js";import{a as Ja,b as On,e as ie,f as wt,g as ve}from"./chunk-D74VYYEJ.js";import{$a as pe,$b as wa,$c as Va,Ab as pt,Ae as fl,Ba as ma,Bd as Jt,Be as hl,Bf as ye,Cb as U,Cd as Dn,De as gl,Df as Se,Eb as T,Ee as yl,F as Fe,Fb as ba,Fd as Wa,G as lo,Ga as _n,Gb as Ea,Gc as Da,Gd as O,Gf as _e,H as yn,Ha as pa,Hc as ka,Hd as St,He as Sl,Hf as Nl,I as mt,Ib as Oi,Ic as Zt,Id as te,Ie as _l,If as ee,Jb as Ni,Jd as yt,Ka as co,Kb as Ri,Kd as ke,L as F,Lc as oi,Ld as tl,M as ta,Md as Nn,N as Ge,Nc as Ia,Nd as Rn,O as It,Oa as da,Ob as Fi,Oc as Pa,Od as Co,Pa as u,Pb as po,Pc as Oa,Pd as sl,Pe as vl,Qa as ua,Qb as re,Qc as Tn,Qd as al,Qe as Cl,R as ea,Ra as Xt,Sa as ni,Sb as f,Sd as bo,Se as bl,Ta as mo,Tb as ft,Tc as An,Td as ll,Te as El,Ua as fa,Ub as q,Uc as Ot,Ue as xl,V as ia,Va as ha,Vb as ri,Vc as Na,Wb as Qe,Wc as Ra,Xb as xa,Xc as Fa,Xe as Tl,Yb as Ta,Z as na,Zb as Aa,Zd as cl,Ze as Eo,_ as ra,_a as it,_b as uo,_c as La,a as y,aa as oa,ab as vn,ac as Ma,ad as $a,b as w,c as Qs,cb as Bt,cc as En,da as x,dc as fo,dd as Ba,df as xo,ea as Ct,eb as Qt,ec as Li,ed as Ha,ef as Fn,fa as tt,fd as ja,ff as He,gd as $e,gf as Al,ha as sa,hb as ga,hf as wl,ia as et,ic as xt,ie as ml,if as $i,ja as aa,jb as L,jc as Tt,jd as go,jf as rt,k as ao,ka as P,kb as ya,kd as Ft,l as ce,la as me,lb as V,lc as ho,ld as za,ma as Le,md as Vi,n as Ws,na as Pt,nb as Ve,nd as wn,ne as pl,nf as Ol,o as Re,oa as d,ob as Me,od as yo,oe as dl,of as zn,p as Ys,pa as la,pb as De,pd as Mn,qb as k,qd as Ua,qf as Un,r as Xs,rb as m,s as Zs,sa as G,sb as l,t as K,ta as Q,tb as H,td as Ka,tf as fe,u as _,ub as Sa,ud as qa,uf as he,vb as _a,vc as xn,vd as So,wa as Pi,wb as va,wd as Ga,we as ul,wf as Ie,x as Js,xa as Sn,xb as Cn,xd as Qa,y as C,ya as ii,yb as bn,yd as Z,yf as ge,z as qe,za as ca,zb as Ca}from"./chunk-BTDNLMEG.js";var Tr=(()=>{let t=class t{constructor(){this.httpClient=d(Ot)}getUser(){return this.httpClient.get(`${t.API}/flow/current-user`)}};t.API="../nifi-api",t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Ar=Vi("[Login Configuration] Load Login Configuration"),Ue=Vi("[Login Configuration] Load Login Configuration Success",wn());var Lt=()=>{let r=d(Be),t=d(Tr),i=d(ht),e=d(Z);return e.select(si).pipe(It(1),x(o=>o?_(o):K(r.getLoginConfiguration()).pipe(tt(s=>{e.dispatch(Ue({response:{loginConfiguration:s.authenticationConfiguration}}))})))).pipe(x(o=>e.select(On).pipe(It(1),x(s=>s.status=="success"?_(!0):K(t.getUser()).pipe(tt(a=>{e.dispatch(kn({response:{user:a}}))}),C(()=>!0),F(a=>((a.status!==401||o.loginSupported)&&e.dispatch(i.fullScreenError(a)),_(!1))))))),F(()=>(e.dispatch(te({errorDetail:{title:"Unauthorized",message:"Unable to load authentication configuration. Please contact your system administrator."}})),_(!1))))};var Wo=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["route-not-found"]],decls:4,vars:0,consts:[[1,"error-background","pt-24","pl-24","h-full"],["title","Route Not Found"],[1,"text-base"]],template:function(n,o){n&1&&(m(0,"div",0)(1,"page-content",1)(2,"div",2),f(3,"The URL entered is not recognized as a supported route."),l()()())},dependencies:[ai],styles:[`.error-background[_ngcontent-%COMP%]{background:url("./media/bg-error-GUIFCDYN.png") left top no-repeat}
















`]});let r=t;return r})();var Bm=r=>()=>{let t=d(Z),i=d(Be),e=d(ht);return t.select(si).pipe(x(n=>n?_(n):i.getLoginConfiguration().pipe(tt(o=>t.dispatch(Ue({response:{loginConfiguration:o.authenticationConfiguration}}))))),C(n=>r(n)?!0:(t.dispatch(te({skipReplaceUrl:!0,errorDetail:{title:"Unable to load",message:"Login configuration check failed"}})),!1)),F(n=>(t.dispatch(e.fullScreenError(n,!0)),_(!1))))};function Ou(r,t){if(r&1&&(m(0,"page-content",1)(1,"div",3),f(2),l()()),r&2){let i=t;k("title",i.title),u(2),ft(i.message)}}function Nu(r,t){r&1&&(m(0,"page-content",2)(1,"div",3),f(2,"Please check the logs or navigate home and try again."),l()())}var Hm=(()=>{let t=class t{constructor(){this.store=d(Z),this.errorDetail$=this.store.select(rl)}ngOnDestroy(){this.store.dispatch(Nn())}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["error"]],decls:4,vars:3,consts:[[1,"error-background","pt-24","pl-24","h-full"],[3,"title"],["title","Error"],[1,"text-base"]],template:function(n,o){if(n&1&&(m(0,"div",0),L(1,Ou,3,2,"page-content",1),xt(2,"async"),ya(3,Nu,3,0,"page-content",2),l()),n&2){let s;u(),V((s=Tt(2,1,o.errorDetail$))?1:3,s)}},dependencies:[ai,Zt],styles:['.error-background[_ngcontent-%COMP%]{background:url("./media/bg-error-GUIFCDYN.png") left top no-repeat}']});let r=t;return r})();var jm=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["logout"]],decls:4,vars:1,consts:[[1,"logout-background","pt-24","pl-24","h-full"],[3,"title"],[1,"text-sm"]],template:function(n,o){n&1&&(m(0,"div",0)(1,"page-content",1)(2,"div",2),f(3,"You have have successfully logged out. You may now close the window."),l()()()),n&2&&(u(),k("title","Logout successful"))},dependencies:[ai],encapsulation:2});let r=t;return r})();var Ru=[{path:"login",canMatch:[Bm(r=>r.loginSupported)],loadChildren:()=>import("./chunk-CHNCSMQK.js").then(r=>r.LoginModule)},{path:"logout-complete",loadComponent:()=>jm},{path:"error",loadComponent:()=>Hm},{path:"404",component:Wo},{path:"documentation",canMatch:[Lt],loadChildren:()=>import("./chunk-K7QKSSOP.js").then(r=>r.DocumentationModule)},{path:"settings",canMatch:[Lt],loadChildren:()=>import("./chunk-K2H3F6ZC.js").then(r=>r.SettingsModule)},{path:"provenance",canMatch:[Lt],loadChildren:()=>import("./chunk-NZ3Y4F5E.js").then(r=>r.ProvenanceModule)},{path:"parameter-contexts",canMatch:[Lt],loadChildren:()=>import("./chunk-MM3PEUR5.js").then(r=>r.ParameterContextsModule)},{path:"counters",canMatch:[Lt],loadChildren:()=>import("./chunk-C33INXPX.js").then(r=>r.CountersModule)},{path:"users",canMatch:[Lt],loadChildren:()=>import("./chunk-A6SIRTS6.js").then(r=>r.UsersModule)},{path:"access-policies",canMatch:[Lt],loadChildren:()=>import("./chunk-66ZHVYL2.js").then(r=>r.AccessPoliciesModule)},{path:"summary",canMatch:[Lt],loadChildren:()=>import("./chunk-YOMP6654.js").then(r=>r.SummaryModule)},{path:"bulletins",canMatch:[Lt],loadChildren:()=>import("./chunk-3DKQ3XWO.js").then(r=>r.BulletinsModule)},{path:"queue",canMatch:[Lt],loadChildren:()=>import("./chunk-7KTDB5ZE.js").then(r=>r.QueueModule)},{path:"flow-configuration-history",canMatch:[Lt],loadChildren:()=>import("./chunk-756QEI56.js").then(r=>r.FlowConfigurationHistoryModule)},{path:"cluster",canMatch:[Lt],loadChildren:()=>import("./chunk-OKZRO5UE.js").then(r=>r.ClusterModule)},{path:"content-viewer",canMatch:[Lt],loadChildren:()=>import("./chunk-MRWEHOX6.js").then(r=>r.ContentViewerModule)},{path:"",canMatch:[Lt],loadChildren:()=>import("./chunk-COX4GNXR.js").then(r=>r.FlowDesignerModule)},{path:"**",component:Wo}],zm=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=pe({type:t}),t.\u0275inj=me({imports:[go.forRoot(Ru,{paramsInheritanceStrategy:"always",useHash:!0}),go]});let r=t;return r})();function Fu(r,t){if(r&1){let i=pt();m(0,"mat-checkbox",8),U("mousedown",function(n){G(i);let o=T();return Q(o.preventDrag(n))})("change",function(){G(i);let n=T();return Q(n.setEmptyStringChanged())}),m(1,"mat-label",9),f(2,"Set empty string"),l()()}}function Lu(r,t){if(r&1){let i=pt();m(0,"button",10),U("mousedown",function(n){G(i);let o=T();return Q(o.preventDrag(n))})("click",function(){G(i);let n=T();return Q(n.cancelClicked())}),f(1," Close "),l()}}function Vu(r,t){if(r&1){let i=pt();m(0,"button",11),U("mousedown",function(n){G(i);let o=T();return Q(o.preventDrag(n))})("click",function(){G(i);let n=T();return Q(n.cancelClicked())}),f(1," Cancel "),l(),m(2,"button",12),U("mousedown",function(n){G(i);let o=T();return Q(o.preventDrag(n))})("click",function(){G(i);let n=T();return Q(n.okClicked())}),f(3," Ok "),l()}if(r&2){let i=T();u(2),k("disabled",!i.textEditorForm.dirty||i.textEditorForm.invalid)}}var Um=(()=>{let t=class t{set item(e){this.textEditorForm.get("value")?.setValue(e.entry.value);let n=e.entry.value==="";this.textEditorForm.get("setEmptyString")?.setValue(n),this.setEmptyStringChanged(),this.itemSet=!0}get codemirrorConfigWithState(){return w(y({},this.codemirrorConfig),{plugins:this.getExtensions(),disabled:this.readonly,readOnly:this.readonly})}constructor(){this.formBuilder=d(_e),this.readonly=!1,this.ok=new Xt,this.exit=new Xt,this.blank=!1,this.itemSet=!1,this.codemirrorConfig={plugins:[],focusOnInit:!0},this.editorStyling={width:"100%",height:"108px"},this.textEditorForm=this.formBuilder.group({value:new Ie(""),setEmptyString:new Ie(!1)})}cancelClicked(){this.exit.next()}okClicked(){let e=this.textEditorForm.get("value"),n=this.textEditorForm.get("setEmptyString");if(e&&n){let o=e.value;o===""?n.value?this.ok.next(""):this.ok.next(null):this.ok.next(o)}}setEmptyStringChanged(){let e=this.textEditorForm.get("setEmptyString");e&&(this.blank=e.value,e.value?(this.textEditorForm.get("value")?.setValue(""),this.textEditorForm.get("value")?.disable()):this.textEditorForm.get("value")?.enable())}resized(e){this.editorStyling.width="100%",this.editorStyling.height=`${e.height-152}px`}preventDrag(e){e.stopPropagation()}codeMirrorLoaded(){this.textEditorForm.get("setEmptyString")?.value&&this.textEditorForm.get("value")?.disable()}getExtensions(){return[wo(),Xl(),Ql.of("    "),Ao.lineWrapping,Kl(),ql(),jl.allowMultipleSelections.of(!0),Wl(),Ul(),[Gl(),Hl.highest(wo())],Ao.contentAttributes.of({"aria-label":"Code Editor"}),zl.of([{key:"Mod-Enter",run:()=>!0},{key:"Mod-y",run:Zl},{key:"Shift-Mod-k",run:tc},{key:"Enter",run:()=>(this.textEditorForm.dirty&&this.textEditorForm.valid&&this.okClicked(),!0)},...ec,...Jl])]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["text-editor"]],inputs:{item:"item",width:"width",readonly:"readonly"},outputs:{ok:"ok",exit:"exit"},decls:9,vars:11,consts:[["cdkDrag","","resizable","",1,"text-editor","mat-elevation-z8","p-4","h-full",3,"resized"],["cdkTrapFocus","",1,"h-full",3,"formGroup","cdkTrapFocusAutoCapture"],[1,"flex","flex-col","gap-y-3","relative","h-full"],[1,"flex","flex-col","gap-y-0.5","flex-1"],["formControlName","value",3,"mousedown","ready","config"],["formControlName","setEmptyString"],[1,"flex","justify-end","items-center","gap-x-2"],["mat-flat-button","","type","button"],["formControlName","setEmptyString",3,"mousedown","change"],[1,"checkbox-label"],["mat-flat-button","","type","button",3,"mousedown","click"],["mat-button","","type","button",3,"mousedown","click"],["type","button","mat-flat-button","",3,"mousedown","click","disabled"]],template:function(n,o){n&1&&(m(0,"div",0),U("resized",function(a){return o.resized(a)}),m(1,"form",1)(2,"div",2)(3,"div",3)(4,"codemirror",4),U("mousedown",function(a){return o.preventDrag(a)})("ready",function(){return o.codeMirrorLoaded()}),l(),L(5,Fu,3,0,"mat-checkbox",5),l(),m(6,"div",6),L(7,Lu,2,0,"button",7)(8,Vu,4,1),l()()()()),n&2&&(po("width",o.width,"px"),u(),k("formGroup",o.textEditorForm)("cdkTrapFocusAutoCapture",!o.readonly),u(3),po("width",o.editorStyling.width)("height",o.editorStyling.height),k("config",o.codemirrorConfigWithState),u(),V(o.readonly?-1:5),u(2),V(o.readonly?7:8))},dependencies:[Vl,pl,wt,Kn,ee,ge,fe,he,ye,Se,Bl,je,Nl,Yl],styles:[".text-editor[_ngcontent-%COMP%]{--mat-button-filled-container-height: 32px;--mat-button-filled-touch-target-display: block;--mat-button-outlined-container-height: 32px;--mat-button-outlined-touch-target-display: block;--mat-button-protected-container-height: 32px;--mat-button-protected-touch-target-display: block;--mat-button-text-container-height: 32px;--mat-button-text-touch-target-display: block;--mat-button-tonal-container-height: 32px;--mat-button-tonal-touch-target-display: block}.text-editor[_ngcontent-%COMP%]{min-height:220px;min-width:245px;max-height:100vh;max-width:100vw;cursor:move}"]});let r=t;return r})();var $u=["trigger"],Bu=["*"],Hu=r=>({$implicit:r});function ju(r,t){if(r&1){let i=pt();m(0,"div")(1,"button",19),U("click",function(){G(i);let n=T();return Q(n.newEntryClicked())}),H(2,"i",20),l()()}}function zu(r,t){r&1&&(m(0,"th",21),f(1,"Name"),l())}function Uu(r,t){if(r&1&&(m(0,"td",22)(1,"div",6)(2,"div",23),f(3),l()()()),r&2){let i=t.$implicit;u(2),k("title",i.entry.name),u(),q(" ",i.entry.name," ")}}function Ku(r,t){r&1&&(m(0,"th",21),f(1,"Value"),l())}function qu(r,t){r&1&&(m(0,"div",25),f(1,"No value set"),l())}function Gu(r,t){r&1&&Ca(0)}function Qu(r,t){r&1&&(m(0,"div",27),f(1,"Empty string set"),l())}function Wu(r,t){if(r&1&&H(0,"div",28),r&2){let i=T(4);k("tooltipComponentType",i.TextTip)}}function Yu(r,t){if(r&1&&(m(0,"div",6)(1,"div",23),f(2),l(),L(3,Wu,1,1,"div",28),l()),r&2){let i=t.$implicit,e=T(3);u(),k("title",i),u(),q(" ",i," "),u(),V(e.hasExtraWhitespace(i)?3:-1)}}function Xu(r,t){if(r&1&&Qt(0,Gu,1,0,"ng-container",26)(1,Qu,2,0,"ng-template",null,2,ho)(3,Yu,4,3,"ng-template",null,3,ho),r&2){let i=Fi(2),e=Fi(4),n=T().$implicit,o=T();k("ngTemplateOutlet",o.isEmptyString(n.entry.value)?i:e)("ngTemplateOutletContext",Li(2,Hu,n.entry.value))}}function Zu(r,t){if(r&1){let i=pt();m(0,"td",22)(1,"div",24,1),U("click",function(n){let o=G(i).$implicit,s=Fi(2),a=T();return Q(a.openEditor(s,o,n))}),L(3,qu,2,0,"div",25)(4,Xu,5,4),l()()}if(r&2){let i=t.$implicit,e=T();u(),k("id",e.formatId(i)),u(2),V(e.isNull(i.entry.value)?3:4)}}function Ju(r,t){r&1&&H(0,"th",21)}function tf(r,t){if(r&1&&(m(0,"button",30),H(1,"i",34),l()),r&2){T();let i=Fi(4);k("matMenuTriggerFor",i)}}function ef(r,t){if(r&1){let i=pt();m(0,"td",22)(1,"div",29),L(2,tf,2,1,"button",30),m(3,"mat-menu",31,4)(5,"button",32),U("click",function(){let n=G(i).$implicit,o=T();return Q(o.deleteProperty(n))}),H(6,"i",33),f(7," Delete "),l()()()()}if(r&2){let i=T();u(2),V(i.isDisabled?-1:2)}}function nf(r,t){r&1&&H(0,"tr",35)}function rf(r,t){if(r&1){let i=pt();m(0,"tr",36),U("click",function(){let n=G(i).$implicit,o=T();return Q(o.select(n))}),l()}if(r&2){let i=t.$implicit,e=t.even,n=T();re("selected",n.isSelected(i))("even",e)}}function of(r,t){if(r&1){let i=pt();m(0,"text-editor",37),U("ok",function(n){G(i);let o=T();return Q(o.saveValue(o.editorItem,n))})("exit",function(){G(i);let n=T();return Q(n.closeEditor())}),l()}if(r&2){let i=T();k("item",i.editorItem)("width",i.editorWidth)("readonly",i.isDisabled)}}var qm=(()=>{let t=class t{constructor(){this.changeDetector=d(xn),this.nifiCommon=d(vt),this.reportChangesOnly=!1,this.destroyRef=d(ii),this.itemLookup=new Map,this.displayedColumns=["name","value","actions"],this.dataSource=new To,this.isDisabled=!1,this.isTouched=!1,this.editorOpen=!1,this.editorTrigger=null,this.editorWidth=0,this.editorOffsetX=0,this.editorOffsetY=0,this.originPos={originX:"center",originY:"center"},this.editorOverlayPos={overlayX:"center",overlayY:"center"},this.editorPositions=[],this.TextTip=be}ngAfterViewInit(){this.initFilter(),this.valueTriggers.changes.pipe(Ft(this.destroyRef)).subscribe(()=>{let e=this.dataSource.data.find(n=>n.triggerEdit);if(e){let n=this.valueTriggers.find(o=>this.formatId(e)==o.elementRef.nativeElement.getAttribute("id"));n&&(n.elementRef.nativeElement.scrollIntoView({block:"center",behavior:"instant"}),window.setTimeout(function(){n.elementRef.nativeElement.click()},0)),e.triggerEdit=!1}})}initFilter(){this.dataSource.filterPredicate=e=>this.isVisible(e),this.dataSource.filter=" "}isVisible(e){return!e.deleted}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}writeValue(e){this.itemLookup.clear();let n=0,o=[];e&&(o=e.map(s=>{let a={entry:s,id:n++,triggerEdit:!1,deleted:!1,added:!1,dirty:!1};return this.itemLookup.set(s.name,a),a})),this.setItems(o)}setItems(e){this.dataSource=new To(e),this.initFilter()}newEntryClicked(){let e=this.dataSource.data.filter(n=>!n.deleted).map(n=>n.entry.name);this.createNew(e).pipe(It(1)).subscribe(n=>{let o=this.dataSource.data,s=o.findIndex(a=>a.entry.name==n.name);if(s>-1){let a=o[s],c=w(y({},a),{entry:n,triggerEdit:!0,deleted:!1,added:!0,dirty:!0});this.itemLookup.set(n.name,c),o[s]=c}else{let a=o.length,c={entry:n,id:a,triggerEdit:!0,deleted:!1,added:!0,dirty:!0};this.itemLookup.set(n.name,c),this.setItems([...o,c])}this.handleChanged()})}formatId(e){return"entry-"+e.id}isNull(e){return e==null}isEmptyString(e){return e==""}hasExtraWhitespace(e){return this.nifiCommon.hasLeadTrailWhitespace(e)}openEditor(e,n,o){if(o.target){let a=o.target.closest("td");if(a){let{width:c}=a.getBoundingClientRect();this.editorPositions.pop(),this.editorItem=n,this.editorTrigger=e,this.editorOpen=!0,this.editorWidth=c+100,this.editorOffsetX=8,this.editorOffsetY=80,this.editorPositions.push(new _l(this.originPos,this.editorOverlayPos,this.editorOffsetX,this.editorOffsetY))}}}deleteProperty(e){e.deleted||(e.entry.value=null,e.deleted=!0,e.dirty=!0,this.handleChanged())}saveValue(e,n){e.entry.value!=n&&(e.entry.value=n,e.dirty=!0,this.handleChanged()),this.closeEditor()}handleChanged(){this.dataSource._updateChangeSubscription(),this.changeDetector.markForCheck(),this.isTouched||(this.isTouched=!0,this.onTouched()),this.onChange(this.serializeEntries())}serializeEntries(){let e=this.dataSource.data;return this.reportChangesOnly?e.filter(n=>n.dirty).filter(n=>!(n.added&&n.deleted)).map(n=>n.entry):e.filter(n=>!n.deleted).map(n=>n.entry)}closeEditor(){this.editorOpen=!1}select(e){this.selectedItem=e}isSelected(e){return this.selectedItem?e.entry.name==this.selectedItem.entry.name:!1}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["map-table"]],viewQuery:function(n,o){if(n&1&&Oi($u,5),n&2){let s;Ni(s=Ri())&&(o.valueTriggers=s)}},inputs:{createNew:"createNew",reportChangesOnly:"reportChangesOnly"},features:[En([{provide:Ol,useExisting:aa(()=>t),multi:!0}])],ngContentSelectors:Bu,decls:21,vars:10,consts:[["mapTable",""],["trigger","cdkOverlayOrigin"],["blank",""],["nonBlank",""],["actionMenu","matMenu"],[1,"map-table","flex","flex-col","h-full","gap-y-3"],[1,"flex","justify-between","items-center"],[1,"font-bold","flex-1"],[1,"listing-table","flex-1","relative"],[1,"absolute","inset-0","overflow-y-auto","overflow-x-hidden"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"selected","even","click",4,"matRowDef","matRowDefColumns"],["cdkConnectedOverlay","",3,"detach","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayBackdropClass","cdkConnectedOverlayOpen"],["title","Add","mat-icon-button","","type","button",1,"primary-icon-button",3,"click"],[1,"fa","fa-plus"],["mat-header-cell",""],["mat-cell",""],[1,"whitespace-nowrap","overflow-hidden","text-ellipsis","leading-normal",3,"title"],["cdkOverlayOrigin","",1,"pointer",3,"click","id"],[1,"unset","neutral-color"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"empty","neutral-color"],["nifiTooltip","","tooltipInputData","The specified value contains leading and/or trailing whitespace character(s). This could produce unexpected results if it was not intentional.",1,"fa","fa-info-circle","primary-color",3,"tooltipComponentType"],[1,"flex","items-center","justify-end","gap-x-2"],["mat-icon-button","","type","button",1,"h-16","w-16","flex","items-center","justify-center","icon","global-menu",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"],[1,"fa","fa-trash","primary-color","mr-2"],[1,"fa","fa-ellipsis-v"],["mat-header-row",""],["mat-row","",3,"click"],[3,"ok","exit","item","width","readonly"]],template:function(n,o){if(n&1){let s=pt();ba(),m(0,"div",5)(1,"div",6)(2,"div",7),Ea(3),l(),L(4,ju,3,0,"div"),l(),m(5,"div",8)(6,"div",9)(7,"table",10,0),Cn(9,11),Qt(10,zu,2,0,"th",12)(11,Uu,4,2,"td",13),bn(),Cn(12,14),Qt(13,Ku,2,0,"th",12)(14,Zu,5,2,"td",13),bn(),Cn(15,15),Qt(16,Ju,1,0,"th",12)(17,ef,8,1,"td",13),bn(),Qt(18,nf,1,0,"tr",16)(19,rf,1,4,"tr",17),l(),Qt(20,of,1,3,"ng-template",18),U("detach",function(){return G(s),Q(o.closeEditor())}),l()()()}n&2&&(u(4),V(o.isDisabled?-1:4),u(3),k("dataSource",o.dataSource),u(11),k("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),u(),k("matRowDefColumns",o.displayedColumns),u(),k("cdkConnectedOverlayOrigin",o.editorTrigger)("cdkConnectedOverlayPositions",o.editorPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop")("cdkConnectedOverlayOpen",o.editorOpen))},dependencies:[oi,ka,El,bl,Pl,Ml,kl,Il,ie,Ln,Dl,Ce,Ll,Fl,Rl,Hn,Bn,$n,Vn,Um],encapsulation:2});let r=t;return r})();var Gm=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["copy-button"]],decls:2,vars:0,consts:[["mat-icon-button","",1,"primary-icon-button"],[1,"fa","fa-copy"]],template:function(n,o){n&1&&(m(0,"button",0),H(1,"i",1),l())},dependencies:[ie],encapsulation:2});let r=t;return r})();function sf(r,t){if(r&1&&(m(0,"mat-error"),f(1),l()),r&2){let i=T();u(),ft(i.getNameErrorMessage())}}var Qm=(()=>{let t=class t extends ue{constructor(){super(),this.formBuilder=d(_e),this.data=d(li),this.newEntry=new Xt;let e=this.formBuilder;this.name=new Ie(null,[Un.required,this.existingEntryValidator(this.data.existingEntries)]),this.newEntryForm=e.group({name:this.name})}existingEntryValidator(e){return n=>{let o=n.value;return o===""?null:e.includes(o)?{existingEntry:!0}:null}}getNameErrorMessage(){return this.name?this.name.hasError("required")?"Name is required.":this.name.hasError("existingEntry")?"Name already exists.":"":""}addClicked(){this.newEntry.next(this.name.value)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["new-map-table-entry-dialog"]],outputs:{newEntry:"newEntry"},features:[Bt],decls:15,vars:4,consts:[["mat-dialog-title",""],[1,"new-entry-form",3,"formGroup"],[1,"mb-2"],["matInput","","formControlName","name","type","text"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"click","disabled"]],template:function(n,o){n&1&&(m(0,"h2",0),f(1),l(),m(2,"form",1)(3,"mat-dialog-content")(4,"div",2)(5,"mat-form-field")(6,"mat-label"),f(7,"Name"),l(),H(8,"input",3),L(9,sf,2,1,"mat-error"),l()()(),m(10,"mat-dialog-actions",4)(11,"button",5),f(12,"Cancel"),l(),m(13,"button",6),U("click",function(){return o.addClicked()}),f(14," Ok "),l()()()),n&2&&(u(),q("Add ",o.data.entryTypeLabel||"Entry"),u(),k("formGroup",o.newEntryForm),u(7),V(o.name.invalid?9:-1),u(4),k("disabled",!o.newEntryForm.dirty||o.newEntryForm.invalid))},dependencies:[wt,Kt,jt,Ut,zt,ic,ci,qn,je,ee,ge,zn,fe,he,ye,Se],styles:[`.new-entry-form[_ngcontent-%COMP%]{--mat-button-filled-container-height: 32px;--mat-button-filled-touch-target-display: block;--mat-button-outlined-container-height: 32px;--mat-button-outlined-touch-target-display: block;--mat-button-protected-container-height: 32px;--mat-button-protected-touch-target-display: block;--mat-button-text-container-height: 32px;--mat-button-text-touch-target-display: block;--mat-button-tonal-container-height: 32px;--mat-button-tonal-touch-target-display: block}.new-entry-form[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}
















`]});let r=t;return r})();var Wm=(()=>{let t=class t{constructor(){this.dialog=d(At)}createNewEntry(e){return n=>{let o=this.dialog.open(Qm,w(y({},Fn),{data:{existingEntries:n,entryTypeLabel:e}}));return o.componentInstance.newEntry.pipe(Ct(o.afterClosed()),x(s=>(o.close(),_({name:s,value:null}))))}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Mr=Vi("[Document Visibility] Document Visibility Changed",wn());function af(r,t){r&1&&(m(0,"div",0)(1,"div",1),H(2,"mat-spinner",2),l()())}function lf(r,t){r&1&&H(0,"router-outlet")}var Ym=(()=>{let t=class t{constructor(){this.router=d($e),this.storage=d(rc),this.themingService=d(oc),this.dialog=d(At),this.store=d(Z),this.title="nifi",this.guardLoading=!0,this.documentVisibilityListener=()=>{this.store.dispatch(Mr({change:{documentVisibility:document.visibilityState==="visible"?Zi.Visible:Zi.Hidden,changedTimestamp:Date.now()}}))},this.router.events.pipe(Ft(),tt(o=>{o instanceof La&&this.dialog.openDialogs.forEach(s=>s.close("ROUTED")),o instanceof Ba&&(this.guardLoading=!0),(o instanceof Ha||o instanceof $a)&&(this.guardLoading=!1)}),mt(o=>o instanceof Va),C(o=>o),gt(()=>this.store.select(zc))).subscribe(([o,s])=>{let a=this.router.currentNavigation()?.extras;if(a?.state?.backNavigation){let c=a?.state?.backNavigation;this.store.dispatch(or({backNavigation:c}))}else s&&this.store.dispatch(sr({url:o.url}))});let e=this.storage.getItem("theme")?this.storage.getItem("theme"):Mo,n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;this.themingService.toggleTheme(n,e),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(o=>{e=this.storage.getItem("theme")?this.storage.getItem("theme"):Mo,this.themingService.toggleTheme(o.matches,e)}),document.addEventListener("visibilitychange",this.documentVisibilityListener)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.documentVisibilityListener)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["nifi"]],standalone:!1,decls:2,vars:1,consts:[[1,"splash","h-screen","p-20"],[1,"splash-img","h-full","flex","items-center","justify-center"],[1,"tertiary-spinner"]],template:function(n,o){n&1&&L(0,af,3,0,"div",0)(1,lf,1,0,"router-outlet"),n&2&&V(o.guardLoading?0:1)},dependencies:[ja,pc],styles:['.splash[_ngcontent-%COMP%]   .splash-img[_ngcontent-%COMP%]{background:transparent url("./media/nifi-drop-splash-XQG4BR47.svg") no-repeat center center}']});let r=t;return r})();var W=(function(r){return r[r.State=0]="State",r[r.Transition=1]="Transition",r[r.Sequence=2]="Sequence",r[r.Group=3]="Group",r[r.Animate=4]="Animate",r[r.Keyframes=5]="Keyframes",r[r.Style=6]="Style",r[r.Trigger=7]="Trigger",r[r.Reference=8]="Reference",r[r.AnimateChild=9]="AnimateChild",r[r.AnimateRef=10]="AnimateRef",r[r.Query=11]="Query",r[r.Stagger=12]="Stagger",r})(W||{}),oe="*";function Xm(r,t=null){return{type:W.Sequence,steps:r,options:t}}function Yo(r){return{type:W.Style,styles:r,offset:null}}var Pe=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,i=0){this.totalTime=t+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let i=t=="start"?this._onStartFns:this._onDoneFns;i.forEach(e=>e()),i.length=0}},bi=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let i=0,e=0,n=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++i==o&&this._onFinish()}),s.onDestroy(()=>{++e==o&&this._onDestroy()}),s.onStart(()=>{++n==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let i=t*this.totalTime;this.players.forEach(e=>{let n=e.totalTime?Math.min(1,i/e.totalTime):1;e.setPosition(n)})}getPosition(){let t=this.players.reduce((i,e)=>i===null||e.totalTime>i.totalTime?e:i,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let i=t=="start"?this._onStartFns:this._onDoneFns;i.forEach(e=>e()),i.length=0}},Ji="!";function Zm(r){return new et(3e3,!1)}function cf(){return new et(3100,!1)}function mf(){return new et(3101,!1)}function pf(r){return new et(3001,!1)}function df(r){return new et(3003,!1)}function uf(r){return new et(3004,!1)}function tp(r,t){return new et(3005,!1)}function ep(){return new et(3006,!1)}function ip(){return new et(3007,!1)}function np(r,t){return new et(3008,!1)}function rp(r){return new et(3002,!1)}function op(r,t,i,e,n){return new et(3010,!1)}function sp(){return new et(3011,!1)}function ap(){return new et(3012,!1)}function lp(){return new et(3200,!1)}function cp(){return new et(3202,!1)}function mp(){return new et(3013,!1)}function pp(r){return new et(3014,!1)}function dp(r){return new et(3015,!1)}function up(r){return new et(3016,!1)}function fp(r,t){return new et(3404,!1)}function ff(r){return new et(3502,!1)}function hp(r){return new et(3503,!1)}function gp(){return new et(3300,!1)}function yp(r){return new et(3504,!1)}function Sp(r){return new et(3301,!1)}function _p(r,t){return new et(3302,!1)}function vp(r){return new et(3303,!1)}function Cp(r,t){return new et(3400,!1)}function bp(r){return new et(3401,!1)}function Ep(r){return new et(3402,!1)}function xp(r,t){return new et(3505,!1)}function Oe(r){switch(r.length){case 0:return new Pe;case 1:return r[0];default:return new bi(r)}}function ts(r,t,i=new Map,e=new Map){let n=[],o=[],s=-1,a=null;if(t.forEach(c=>{let p=c.get("offset"),g=p==s,h=g&&a||new Map;c.forEach((M,I)=>{let S=I,b=M;if(I!=="offset")switch(S=r.normalizePropertyName(S,n),b){case Ji:b=i.get(I);break;case oe:b=e.get(I);break;default:b=r.normalizeStyleValue(I,S,b,n);break}h.set(S,b)}),g||o.push(h),a=h,s=p}),n.length)throw ff(n);return o}function Dr(r,t,i,e){switch(t){case"start":r.onStart(()=>e(i&&Xo(i,"start",r)));break;case"done":r.onDone(()=>e(i&&Xo(i,"done",r)));break;case"destroy":r.onDestroy(()=>e(i&&Xo(i,"destroy",r)));break}}function Xo(r,t,i){let e=i.totalTime,n=!!i.disabled,o=kr(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,e??r.totalTime,n),s=r._data;return s!=null&&(o._data=s),o}function kr(r,t,i,e,n="",o=0,s){return{element:r,triggerName:t,fromState:i,toState:e,phaseName:n,totalTime:o,disabled:!!s}}function qt(r,t,i){let e=r.get(t);return e||r.set(t,e=i),e}function es(r){let t=r.indexOf(":"),i=r.substring(1,t),e=r.slice(t+1);return[i,e]}var hf=typeof document>"u"?null:document.documentElement;function Ir(r){let t=r.parentNode||r.host||null;return t===hf?null:t}function gf(r){return r.substring(1,6)=="ebkit"}var Ze=null,Jm=!1;function Tp(r){Ze||(Ze=yf()||{},Jm=Ze.style?"WebkitAppearance"in Ze.style:!1);let t=!0;return Ze.style&&!gf(r)&&(t=r in Ze.style,!t&&Jm&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Ze.style)),t}function yf(){return typeof document<"u"?document.body:null}function is(r,t){for(;t;){if(t===r)return!0;t=Ir(t)}return!1}function ns(r,t,i){if(i)return Array.from(r.querySelectorAll(t));let e=r.querySelector(t);return e?[e]:[]}var Sf=1e3,rs="{{",_f="}}",os="ng-enter",Pr="ng-leave",tn="ng-trigger",en=".ng-trigger",ss="ng-animating",Or=".ng-animating";function Ae(r){if(typeof r=="number")return r;let t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Zo(parseFloat(t[1]),t[2])}function Zo(r,t){switch(t){case"s":return r*Sf;default:return r}}function nn(r,t,i){return r.hasOwnProperty("duration")?r:Cf(r,t,i)}var vf=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Cf(r,t,i){let e,n=0,o="";if(typeof r=="string"){let s=r.match(vf);if(s===null)return t.push(Zm(r)),{duration:0,delay:0,easing:""};e=Zo(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(n=Zo(parseFloat(a),s[4]));let c=s[5];c&&(o=c)}else e=r;if(!i){let s=!1,a=t.length;e<0&&(t.push(cf()),s=!0),n<0&&(t.push(mf()),s=!0),s&&t.splice(a,0,Zm(r))}return{duration:e,delay:n,easing:o}}function Ap(r){return r.length?r[0]instanceof Map?r:r.map(t=>new Map(Object.entries(t))):[]}function se(r,t,i){t.forEach((e,n)=>{let o=Nr(n);i&&!i.has(n)&&i.set(n,r.style[o]),r.style[o]=e})}function Ke(r,t){t.forEach((i,e)=>{let n=Nr(e);r.style[n]=""})}function Ei(r){return Array.isArray(r)?r.length==1?r[0]:Xm(r):r}function wp(r,t,i){let e=t.params||{},n=as(r);n.length&&n.forEach(o=>{e.hasOwnProperty(o)||i.push(pf(o))})}var Jo=new RegExp(`${rs}\\s*(.+?)\\s*${_f}`,"g");function as(r){let t=[];if(typeof r=="string"){let i;for(;i=Jo.exec(r);)t.push(i[1]);Jo.lastIndex=0}return t}function xi(r,t,i){let e=`${r}`,n=e.replace(Jo,(o,s)=>{let a=t[s];return a==null&&(i.push(df(s)),a=""),a.toString()});return n==e?r:n}var bf=/-+([a-z0-9])/g;function Nr(r){return r.replace(bf,(...t)=>t[1].toUpperCase())}function Mp(r,t){return r===0||t===0}function Dp(r,t,i){if(i.size&&t.length){let e=t[0],n=[];if(i.forEach((o,s)=>{e.has(s)||n.push(s),e.set(s,o)}),n.length)for(let o=1;o<t.length;o++){let s=t[o];n.forEach(a=>s.set(a,Rr(r,a)))}}return t}function Gt(r,t,i){switch(t.type){case W.Trigger:return r.visitTrigger(t,i);case W.State:return r.visitState(t,i);case W.Transition:return r.visitTransition(t,i);case W.Sequence:return r.visitSequence(t,i);case W.Group:return r.visitGroup(t,i);case W.Animate:return r.visitAnimate(t,i);case W.Keyframes:return r.visitKeyframes(t,i);case W.Style:return r.visitStyle(t,i);case W.Reference:return r.visitReference(t,i);case W.AnimateChild:return r.visitAnimateChild(t,i);case W.AnimateRef:return r.visitAnimateRef(t,i);case W.Query:return r.visitQuery(t,i);case W.Stagger:return r.visitStagger(t,i);default:throw uf(t.type)}}function Rr(r,t){return window.getComputedStyle(r)[t]}var xs=(()=>{class r{validateStyleProperty(i){return Tp(i)}containsElement(i,e){return is(i,e)}getParentElement(i){return Ir(i)}query(i,e,n){return ns(i,e,n)}computeStyle(i,e,n){return n||""}animate(i,e,n,o,s,a=[],c){return new Pe(n,o)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=P({token:r,factory:r.\u0275fac})}return r})(),ti=class{static NOOP=new xs},ei=class{};var Ef=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Br=class extends ei{normalizePropertyName(t,i){return Nr(t)}normalizeStyleValue(t,i,e,n){let o="",s=e.toString().trim();if(Ef.has(i)&&e!==0&&e!=="0")if(typeof e=="number")o="px";else{let a=e.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&n.push(tp(t,e))}return s+o}};var Hr="*";function xf(r,t){let i=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(e=>Tf(e,i,t)):i.push(r),i}function Tf(r,t,i){if(r[0]==":"){let c=Af(r,i);if(typeof c=="function"){t.push(c);return}r=c}let e=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(e==null||e.length<4)return i.push(dp(r)),t;let n=e[1],o=e[2],s=e[3];t.push(kp(n,s));let a=n==Hr&&s==Hr;o[0]=="<"&&!a&&t.push(kp(s,n))}function Af(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,e)=>parseFloat(e)>parseFloat(i);case":decrement":return(i,e)=>parseFloat(e)<parseFloat(i);default:return t.push(up(r)),"* => *"}}var Fr=new Set(["true","1"]),Lr=new Set(["false","0"]);function kp(r,t){let i=Fr.has(r)||Lr.has(r),e=Fr.has(t)||Lr.has(t);return(n,o)=>{let s=r==Hr||r==n,a=t==Hr||t==o;return!s&&i&&typeof n=="boolean"&&(s=n?Fr.has(r):Lr.has(r)),!a&&e&&typeof o=="boolean"&&(a=o?Fr.has(t):Lr.has(t)),s&&a}}var Bp=":self",wf=new RegExp(`s*${Bp}s*,?`,"g");function Hp(r,t,i,e){return new us(r).build(t,i,e)}var Ip="",us=class{_driver;constructor(t){this._driver=t}build(t,i,e){let n=new fs(i);return this._resetContextStyleTimingState(n),Gt(this,Ei(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=Ip,t.collectedStyles=new Map,t.collectedStyles.set(Ip,new Map),t.currentTime=0}visitTrigger(t,i){let e=i.queryCount=0,n=i.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&i.errors.push(ep()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(i),a.type==W.State){let c=a,p=c.name;p.toString().split(/\s*,\s*/).forEach(g=>{c.name=g,o.push(this.visitState(c,i))}),c.name=p}else if(a.type==W.Transition){let c=this.visitTransition(a,i);e+=c.queryCount,n+=c.depCount,s.push(c)}else i.errors.push(ip())}),{type:W.Trigger,name:t.name,states:o,transitions:s,queryCount:e,depCount:n,options:null}}visitState(t,i){let e=this.visitStyle(t.styles,i),n=t.options&&t.options.params||null;if(e.containsDynamicStyles){let o=new Set,s=n||{};e.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{as(c).forEach(p=>{s.hasOwnProperty(p)||o.add(p)})})}),o.size&&i.errors.push(np(t.name,[...o.values()]))}return{type:W.State,name:t.name,style:e,options:n?{params:n}:null}}visitTransition(t,i){i.queryCount=0,i.depCount=0;let e=Gt(this,Ei(t.animation),i),n=xf(t.expr,i.errors);return{type:W.Transition,matchers:n,animation:e,queryCount:i.queryCount,depCount:i.depCount,options:Je(t.options)}}visitSequence(t,i){return{type:W.Sequence,steps:t.steps.map(e=>Gt(this,e,i)),options:Je(t.options)}}visitGroup(t,i){let e=i.currentTime,n=0,o=t.steps.map(s=>{i.currentTime=e;let a=Gt(this,s,i);return n=Math.max(n,i.currentTime),a});return i.currentTime=n,{type:W.Group,steps:o,options:Je(t.options)}}visitAnimate(t,i){let e=If(t.timings,i.errors);i.currentAnimateTimings=e;let n,o=t.styles?t.styles:Yo({});if(o.type==W.Keyframes)n=this.visitKeyframes(o,i);else{let s=t.styles,a=!1;if(!s){a=!0;let p={};e.easing&&(p.easing=e.easing),s=Yo(p)}i.currentTime+=e.duration+e.delay;let c=this.visitStyle(s,i);c.isEmptyStep=a,n=c}return i.currentAnimateTimings=null,{type:W.Animate,timings:e,style:n,options:null}}visitStyle(t,i){let e=this._makeStyleAst(t,i);return this._validateStyleAst(e,i),e}_makeStyleAst(t,i){let e=[],n=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of n)typeof a=="string"?a===oe?e.push(a):i.errors.push(rp(a)):e.push(new Map(Object.entries(a)));let o=!1,s=null;return e.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(rs)>=0){o=!0;break}}}),{type:W.Style,styles:e,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,i){let e=i.currentAnimateTimings,n=i.currentTime,o=i.currentTime;e&&o>0&&(o-=e.duration+e.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let p=i.collectedStyles.get(i.currentQuerySelector),g=p.get(c),h=!0;g&&(o!=n&&o>=g.startTime&&n<=g.endTime&&(i.errors.push(op(c,g.startTime,g.endTime,o,n)),h=!1),o=g.startTime),h&&p.set(c,{startTime:o,endTime:n}),i.options&&wp(a,i.options,i.errors)})})}visitKeyframes(t,i){let e={type:W.Keyframes,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(sp()),e;let n=1,o=0,s=[],a=!1,c=!1,p=0,g=t.steps.map(X=>{let nt=this._makeStyleAst(X,i),at=nt.offset!=null?nt.offset:kf(nt.styles),$=0;return at!=null&&(o++,$=nt.offset=at),c=c||$<0||$>1,a=a||$<p,p=$,s.push($),nt});c&&i.errors.push(ap()),a&&i.errors.push(lp());let h=t.steps.length,M=0;o>0&&o<h?i.errors.push(cp()):o==0&&(M=n/(h-1));let I=h-1,S=i.currentTime,b=i.currentAnimateTimings,Y=b.duration;return g.forEach((X,nt)=>{let at=M>0?nt==I?1:M*nt:s[nt],$=at*Y;i.currentTime=S+b.delay+$,b.duration=$,this._validateStyleAst(X,i),X.offset=at,e.styles.push(X)}),e}visitReference(t,i){return{type:W.Reference,animation:Gt(this,Ei(t.animation),i),options:Je(t.options)}}visitAnimateChild(t,i){return i.depCount++,{type:W.AnimateChild,options:Je(t.options)}}visitAnimateRef(t,i){return{type:W.AnimateRef,animation:this.visitReference(t.animation,i),options:Je(t.options)}}visitQuery(t,i){let e=i.currentQuerySelector,n=t.options||{};i.queryCount++,i.currentQuery=t;let[o,s]=Mf(t.selector);i.currentQuerySelector=e.length?e+" "+o:o,qt(i.collectedStyles,i.currentQuerySelector,new Map);let a=Gt(this,Ei(t.animation),i);return i.currentQuery=null,i.currentQuerySelector=e,{type:W.Query,selector:o,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Je(t.options)}}visitStagger(t,i){i.currentQuery||i.errors.push(mp());let e=t.timings==="full"?{duration:0,delay:0,easing:"full"}:nn(t.timings,i.errors,!0);return{type:W.Stagger,animation:Gt(this,Ei(t.animation),i),timings:e,options:null}}};function Mf(r){let t=!!r.split(/\s*,\s*/).find(i=>i==Bp);return t&&(r=r.replace(wf,"")),r=r.replace(/@\*/g,en).replace(/@\w+/g,i=>en+"-"+i.slice(1)).replace(/:animating/g,Or),[r,t]}function Df(r){return r?y({},r):null}var fs=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function kf(r){if(typeof r=="string")return null;let t=null;if(Array.isArray(r))r.forEach(i=>{if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let i=r;t=parseFloat(i.get("offset")),i.delete("offset")}return t}function If(r,t){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let o=nn(r,t).duration;return ls(o,0,"")}let i=r;if(i.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=ls(0,0,"");return o.dynamic=!0,o.strValue=i,o}let n=nn(i,t);return ls(n.duration,n.delay,n.easing)}function Je(r){return r?(r=y({},r),r.params&&(r.params=Df(r.params))):r={},r}function ls(r,t,i){return{duration:r,delay:t,easing:i}}function Ts(r,t,i,e,n,o,s=null,a=!1){return{type:1,element:r,keyframes:t,preStyleProps:i,postStyleProps:e,duration:n,delay:o,totalTime:n+o,easing:s,subTimeline:a}}var on=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,i){let e=this._map.get(t);e||this._map.set(t,e=[]),e.push(...i)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Pf=1,Of=":enter",Nf=new RegExp(Of,"g"),Rf=":leave",Ff=new RegExp(Rf,"g");function jp(r,t,i,e,n,o=new Map,s=new Map,a,c,p=[]){return new hs().buildKeyframes(r,t,i,e,n,o,s,a,c,p)}var hs=class{buildKeyframes(t,i,e,n,o,s,a,c,p,g=[]){p=p||new on;let h=new gs(t,i,p,n,o,g,[]);h.options=c;let M=c.delay?Ae(c.delay):0;h.currentTimeline.delayNextStep(M),h.currentTimeline.setStyles([s],null,h.errors,c),Gt(this,e,h);let I=h.timelines.filter(S=>S.containsAnimation());if(I.length&&a.size){let S;for(let b=I.length-1;b>=0;b--){let Y=I[b];if(Y.element===i){S=Y;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([a],null,h.errors,c)}return I.length?I.map(S=>S.buildKeyframes()):[Ts(i,[],[],[],0,M,"",!1)]}visitTrigger(t,i){}visitState(t,i){}visitTransition(t,i){}visitAnimateChild(t,i){let e=i.subInstructions.get(i.element);if(e){let n=i.createSubContext(t.options),o=i.currentTimeline.currentTime,s=this._visitSubInstructions(e,n,n.options);o!=s&&i.transformIntoNewTimeline(s)}i.previousNode=t}visitAnimateRef(t,i){let e=i.createSubContext(t.options);e.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],i,e),this.visitReference(t.animation,e),i.transformIntoNewTimeline(e.currentTimeline.currentTime),i.previousNode=t}_applyAnimationRefDelays(t,i,e){for(let n of t){let o=n?.delay;if(o){let s=typeof o=="number"?o:Ae(xi(o,n?.params??{},i.errors));e.delayNextStep(s)}}}_visitSubInstructions(t,i,e){let o=i.currentTimeline.currentTime,s=e.duration!=null?Ae(e.duration):null,a=e.delay!=null?Ae(e.delay):null;return s!==0&&t.forEach(c=>{let p=i.appendInstructionToTimeline(c,s,a);o=Math.max(o,p.duration+p.delay)}),o}visitReference(t,i){i.updateOptions(t.options,!0),Gt(this,t.animation,i),i.previousNode=t}visitSequence(t,i){let e=i.subContextCount,n=i,o=t.options;if(o&&(o.params||o.delay)&&(n=i.createSubContext(o),n.transformIntoNewTimeline(),o.delay!=null)){n.previousNode.type==W.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=jr);let s=Ae(o.delay);n.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Gt(this,s,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>e&&n.transformIntoNewTimeline()),i.previousNode=t}visitGroup(t,i){let e=[],n=i.currentTimeline.currentTime,o=t.options&&t.options.delay?Ae(t.options.delay):0;t.steps.forEach(s=>{let a=i.createSubContext(t.options);o&&a.delayNextStep(o),Gt(this,s,a),n=Math.max(n,a.currentTimeline.currentTime),e.push(a.currentTimeline)}),e.forEach(s=>i.currentTimeline.mergeTimelineCollectedStyles(s)),i.transformIntoNewTimeline(n),i.previousNode=t}_visitTiming(t,i){if(t.dynamic){let e=t.strValue,n=i.params?xi(e,i.params,i.errors):e;return nn(n,i.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,i){let e=i.currentAnimateTimings=this._visitTiming(t.timings,i),n=i.currentTimeline;e.delay&&(i.incrementTime(e.delay),n.snapshotCurrentStyles());let o=t.style;o.type==W.Keyframes?this.visitKeyframes(o,i):(i.incrementTime(e.duration),this.visitStyle(o,i),n.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=t}visitStyle(t,i){let e=i.currentTimeline,n=i.currentAnimateTimings;!n&&e.hasCurrentStyleProperties()&&e.forwardFrame();let o=n&&n.easing||t.easing;t.isEmptyStep?e.applyEmptyStep(o):e.setStyles(t.styles,o,i.errors,i.options),i.previousNode=t}visitKeyframes(t,i){let e=i.currentAnimateTimings,n=i.currentTimeline.duration,o=e.duration,a=i.createSubContext().currentTimeline;a.easing=e.easing,t.styles.forEach(c=>{let p=c.offset||0;a.forwardTime(p*o),a.setStyles(c.styles,c.easing,i.errors,i.options),a.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(a),i.transformIntoNewTimeline(n+o),i.previousNode=t}visitQuery(t,i){let e=i.currentTimeline.currentTime,n=t.options||{},o=n.delay?Ae(n.delay):0;o&&(i.previousNode.type===W.Style||e==0&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=jr);let s=e,a=i.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,i.errors);i.currentQueryTotal=a.length;let c=null;a.forEach((p,g)=>{i.currentQueryIndex=g;let h=i.createSubContext(t.options,p);o&&h.delayNextStep(o),p===i.element&&(c=h.currentTimeline),Gt(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe();let M=h.currentTimeline.currentTime;s=Math.max(s,M)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(s),c&&(i.currentTimeline.mergeTimelineCollectedStyles(c),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=t}visitStagger(t,i){let e=i.parentContext,n=i.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(i.currentQueryTotal-1),c=s*i.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=e.currentStaggerTime;break}let g=i.currentTimeline;c&&g.delayNextStep(c);let h=g.currentTime;Gt(this,t.animation,i),i.previousNode=t,e.currentStaggerTime=n.currentTime-h+(n.startTime-e.currentTimeline.startTime)}},jr={},gs=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=jr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,i,e,n,o,s,a,c){this._driver=t,this.element=i,this.subInstructions=e,this._enterClassName=n,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new zr(this._driver,i,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,i){if(!t)return;let e=t,n=this.options;e.duration!=null&&(n.duration=Ae(e.duration)),e.delay!=null&&(n.delay=Ae(e.delay));let o=e.params;if(o){let s=n.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!i||!s.hasOwnProperty(a))&&(s[a]=xi(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let i=this.options.params;if(i){let e=t.params={};Object.keys(i).forEach(n=>{e[n]=i[n]})}}return t}createSubContext(t=null,i,e){let n=i||this.element,o=new r(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,e||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=jr,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,i,e){let n={duration:i??t.duration,delay:this.currentTimeline.currentTime+(e??0)+t.delay,easing:""},o=new ys(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(o),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,i,e,n,o,s){let a=[];if(n&&a.push(this.element),t.length>0){t=t.replace(Nf,"."+this._enterClassName),t=t.replace(Ff,"."+this._leaveClassName);let c=e!=1,p=this._driver.query(this.element,t,c);e!==0&&(p=e<0?p.slice(p.length+e,p.length):p.slice(0,e)),a.push(...p)}return!o&&a.length==0&&s.push(pp(i)),a}},zr=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,i,e,n){this._driver=t,this.element=i,this.startTime=e,this._elementTimelineStylesLookup=n,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let i=this._keyframes.size===1&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+t),i&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,i){return this.applyStylesToKeyframe(),new r(this._driver,t,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Pf,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,i){this._localTimelineStyles.set(t,i),this._globalTimelineStyles.set(t,i),this._styleSummary.set(t,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[i,e]of this._globalTimelineStyles)this._backFill.set(i,e||oe),this._currentKeyframe.set(i,oe);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,i,e,n){i&&this._previousKeyframe.set("easing",i);let o=n&&n.params||{},s=Lf(t,this._globalTimelineStyles);for(let[a,c]of s){let p=xi(c,o,e);this._pendingStyles.set(a,p),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??oe),this._updateStyle(a,p)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,i)=>{this._currentKeyframe.set(i,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,t)}))}snapshotCurrentStyles(){for(let[t,i]of this._localTimelineStyles)this._pendingStyles.set(t,i),this._updateStyle(t,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let i in this._currentKeyframe)t.push(i);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((i,e)=>{let n=this._styleSummary.get(e);(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,i=new Set,e=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((a,c)=>{let p=new Map([...this._backFill,...a]);p.forEach((g,h)=>{g===Ji?t.add(h):g===oe&&i.add(h)}),e||p.set("offset",c/this.duration),n.push(p)});let o=[...t.values()],s=[...i.values()];if(e){let a=n[0],c=new Map(a);a.set("offset",0),c.set("offset",1),n=[a,c]}return Ts(this.element,n,o,s,this.duration,this.startTime,this.easing,!1)}},ys=class extends zr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,i,e,n,o,s,a=!1){super(t,i,s.delay),this.keyframes=e,this.preStyleProps=n,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:i,duration:e,easing:n}=this.timings;if(this._stretchStartingKeyframe&&i){let o=[],s=e+i,a=i/s,c=new Map(t[0]);c.set("offset",0),o.push(c);let p=new Map(t[0]);p.set("offset",Pp(a)),o.push(p);let g=t.length-1;for(let h=1;h<=g;h++){let M=new Map(t[h]),I=M.get("offset"),S=i+I*e;M.set("offset",Pp(S/s)),o.push(M)}e=s,i=0,n="",t=o}return Ts(this.element,t,this.preStyleProps,this.postStyleProps,e,i,n,!0)}};function Pp(r,t=3){let i=Math.pow(10,t-1);return Math.round(r*i)/i}function Lf(r,t){let i=new Map,e;return r.forEach(n=>{if(n==="*"){e??=t.keys();for(let o of e)i.set(o,oe)}else for(let[o,s]of n)i.set(o,s)}),i}function Op(r,t,i,e,n,o,s,a,c,p,g,h,M){return{type:0,element:r,triggerName:t,isRemovalTransition:n,fromState:i,fromStyles:o,toState:e,toStyles:s,timelines:a,queriedElements:c,preStyleProps:p,postStyleProps:g,totalTime:h,errors:M}}var cs={},Ur=class{_triggerName;ast;_stateStyles;constructor(t,i,e){this._triggerName=t,this.ast=i,this._stateStyles=e}match(t,i,e,n){return Vf(this.ast.matchers,t,i,e,n)}buildStyles(t,i,e){let n=this._stateStyles.get("*");return t!==void 0&&(n=this._stateStyles.get(t?.toString())||n),n?n.buildStyles(i,e):new Map}build(t,i,e,n,o,s,a,c,p,g){let h=[],M=this.ast.options&&this.ast.options.params||cs,I=a&&a.params||cs,S=this.buildStyles(e,I,h),b=c&&c.params||cs,Y=this.buildStyles(n,b,h),X=new Set,nt=new Map,at=new Map,$=n==="void",lt={params:zp(b,M),delay:this.ast.options?.delay},z=g?[]:jp(t,i,this.ast.animation,o,s,S,Y,lt,p,h),ut=0;return z.forEach(ot=>{ut=Math.max(ot.duration+ot.delay,ut)}),h.length?Op(i,this._triggerName,e,n,$,S,Y,[],[],nt,at,ut,h):(z.forEach(ot=>{let Vt=ot.element,Nt=qt(nt,Vt,new Set);ot.preStyleProps.forEach(Mt=>Nt.add(Mt));let fn=qt(at,Vt,new Set);ot.postStyleProps.forEach(Mt=>fn.add(Mt)),Vt!==i&&X.add(Vt)}),Op(i,this._triggerName,e,n,$,S,Y,z,[...X.values()],nt,at,ut))}};function Vf(r,t,i,e,n){return r.some(o=>o(t,i,e,n))}function zp(r,t){let i=y({},t);return Object.entries(r).forEach(([e,n])=>{n!=null&&(i[e]=n)}),i}var Ss=class{styles;defaultParams;normalizer;constructor(t,i,e){this.styles=t,this.defaultParams=i,this.normalizer=e}buildStyles(t,i){let e=new Map,n=zp(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=xi(s,n,i));let c=this.normalizer.normalizePropertyName(a,i);s=this.normalizer.normalizeStyleValue(a,c,s,i),e.set(a,s)})}),e}};function $f(r,t,i){return new _s(r,t,i)}var _s=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,i,e){this.name=t,this.ast=i,this._normalizer=e,i.states.forEach(n=>{let o=n.options&&n.options.params||{};this.states.set(n.name,new Ss(n.style,o,e))}),Np(this.states,"true","1"),Np(this.states,"false","0"),i.transitions.forEach(n=>{this.transitionFactories.push(new Ur(t,n,this.states))}),this.fallbackTransition=Bf(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,i,e,n){return this.transitionFactories.find(s=>s.match(t,i,e,n))||null}matchStyles(t,i,e){return this.fallbackTransition.buildStyles(t,i,e)}};function Bf(r,t,i){let e=[(s,a)=>!0],n={type:W.Sequence,steps:[],options:null},o={type:W.Transition,animation:n,matchers:e,options:null,queryCount:0,depCount:0};return new Ur(r,o,t)}function Np(r,t,i){r.has(t)?r.has(i)||r.set(i,r.get(t)):r.has(i)&&r.set(t,r.get(i))}var Hf=new on,vs=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,i,e){this.bodyNode=t,this._driver=i,this._normalizer=e}register(t,i){let e=[],n=[],o=Hp(this._driver,i,e,n);if(e.length)throw hp(e);this._animations.set(t,o)}_buildPlayer(t,i,e){let n=t.element,o=ts(this._normalizer,t.keyframes,i,e);return this._driver.animate(n,o,t.duration,t.delay,t.easing,[],!0)}create(t,i,e={}){let n=[],o=this._animations.get(t),s,a=new Map;if(o?(s=jp(this._driver,i,o,os,Pr,new Map,new Map,e,Hf,n),s.forEach(g=>{let h=qt(a,g.element,new Map);g.postStyleProps.forEach(M=>h.set(M,null))})):(n.push(gp()),s=[]),n.length)throw yp(n);a.forEach((g,h)=>{g.forEach((M,I)=>{g.set(I,this._driver.computeStyle(h,I,oe))})});let c=s.map(g=>{let h=a.get(g.element);return this._buildPlayer(g,new Map,h)}),p=Oe(c);return this._playersById.set(t,p),p.onDestroy(()=>this.destroy(t)),this.players.push(p),p}destroy(t){let i=this._getPlayer(t);i.destroy(),this._playersById.delete(t);let e=this.players.indexOf(i);e>=0&&this.players.splice(e,1)}_getPlayer(t){let i=this._playersById.get(t);if(!i)throw Sp(t);return i}listen(t,i,e,n){let o=kr(i,"","","");return Dr(this._getPlayer(t),e,o,n),()=>{}}command(t,i,e,n){if(e=="register"){this.register(t,n[0]);return}if(e=="create"){let s=n[0]||{};this.create(t,i,s);return}let o=this._getPlayer(t);switch(e){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t);break}}},Rp="ng-animate-queued",jf=".ng-animate-queued",ms="ng-animate-disabled",zf=".ng-animate-disabled",Uf="ng-star-inserted",Kf=".ng-star-inserted",qf=[],Up={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ae="__ng_removed",sn=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,i=""){this.namespaceId=i;let e=t&&t.hasOwnProperty("value"),n=e?t.value:t;if(this.value=Wf(n),e){let o=t,{value:s}=o,a=Qs(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let i=t.params;if(i){let e=this.options.params;Object.keys(i).forEach(n=>{e[n]==null&&(e[n]=i[n])})}}},rn="void",ps=new sn(rn),Cs=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,i,e){this.id=t,this.hostElement=i,this._engine=e,this._hostClassName="ng-tns-"+t,ne(i,this._hostClassName)}listen(t,i,e,n){if(!this._triggers.has(i))throw _p(e,i);if(e==null||e.length==0)throw vp(i);if(!Yf(e))throw Cp(e,i);let o=qt(this._elementListeners,t,[]),s={name:i,phase:e,callback:n};o.push(s);let a=qt(this._engine.statesByElement,t,new Map);return a.has(i)||(ne(t,tn),ne(t,tn+"-"+i),a.set(i,ps)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(i)||a.delete(i)})}}register(t,i){return this._triggers.has(t)?!1:(this._triggers.set(t,i),!0)}_getTrigger(t){let i=this._triggers.get(t);if(!i)throw bp(t);return i}trigger(t,i,e,n=!0){let o=this._getTrigger(i),s=new an(this.id,i,t),a=this._engine.statesByElement.get(t);a||(ne(t,tn),ne(t,tn+"-"+i),this._engine.statesByElement.set(t,a=new Map));let c=a.get(i),p=new sn(e,this.id);if(!(e&&e.hasOwnProperty("value"))&&c&&p.absorbOptions(c.options),a.set(i,p),c||(c=ps),!(p.value===rn)&&c.value===p.value){if(!Jf(c.params,p.params)){let b=[],Y=o.matchStyles(c.value,c.params,b),X=o.matchStyles(p.value,p.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Ke(t,Y),se(t,X)})}return}let M=qt(this._engine.playersByElement,t,[]);M.forEach(b=>{b.namespaceId==this.id&&b.triggerName==i&&b.queued&&b.destroy()});let I=o.matchTransition(c.value,p.value,t,p.params),S=!1;if(!I){if(!n)return;I=o.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:I,fromState:c,toState:p,player:s,isFallbackTransition:S}),S||(ne(t,Rp),s.onStart(()=>{Ti(t,Rp)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);let Y=this._engine.playersByElement.get(t);if(Y){let X=Y.indexOf(s);X>=0&&Y.splice(X,1)}}),this.players.push(s),M.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(i=>i.delete(t)),this._elementListeners.forEach((i,e)=>{this._elementListeners.set(e,i.filter(n=>n.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let i=this._engine.playersByElement.get(t);i&&(i.forEach(e=>e.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,i){let e=this._engine.driver.query(t,en,!0);e.forEach(n=>{if(n[ae])return;let o=this._engine.fetchNamespacesByElement(n);o.size?o.forEach(s=>s.triggerLeaveAnimation(n,i,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>e.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(t,i,e,n){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((c,p)=>{if(s.set(p,c.value),this._triggers.has(p)){let g=this.trigger(t,p,rn,n);g&&a.push(g)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,i,s),e&&Oe(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let i=this._elementListeners.get(t),e=this._engine.statesByElement.get(t);if(i&&e){let n=new Set;i.forEach(o=>{let s=o.name;if(n.has(s))return;n.add(s);let c=this._triggers.get(s).fallbackTransition,p=e.get(s)||ps,g=new sn(rn),h=new an(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:p,toState:g,player:h,isFallbackTransition:!0})})}}removeNode(t,i){let e=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,i),this.triggerLeaveAnimation(t,i,!0))return;let n=!1;if(e.totalAnimations){let o=e.players.length?e.playersByQueriedElement.get(t):[];if(o&&o.length)n=!0;else{let s=t;for(;s=s.parentNode;)if(e.statesByElement.get(s)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)e.markElementAsRemoved(this.id,t,!1,i);else{let o=t[ae];(!o||o===Up)&&(e.afterFlush(()=>this.clearElementCache(t)),e.destroyInnerAnimations(t),e._onRemovalComplete(t,i))}}insertNode(t,i){ne(t,this._hostClassName)}drainQueuedTransitions(t){let i=[];return this._queue.forEach(e=>{let n=e.player;if(n.destroyed)return;let o=e.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==e.triggerName){let c=kr(o,e.triggerName,e.fromState.value,e.toState.value);c._data=t,Dr(e.player,a.phase,c,a.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):i.push(e)}),this._queue=[],i.sort((e,n)=>{let o=e.transition.ast.depCount,s=n.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(e.element,n.element)?1:-1})}destroy(t){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},bs=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,i)=>{};_onRemovalComplete(t,i){this.onRemovalComplete(t,i)}constructor(t,i,e){this.bodyNode=t,this.driver=i,this._normalizer=e}get queuedPlayers(){let t=[];return this._namespaceList.forEach(i=>{i.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,i){let e=new Cs(t,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(e,i):(this.newHostElements.set(i,e),this.collectEnterElement(i)),this._namespaceLookup[t]=e}_balanceNamespaceList(t,i){let e=this._namespaceList,n=this.namespacesByHostElement;if(e.length-1>=0){let s=!1,a=this.driver.getParentElement(i);for(;a;){let c=n.get(a);if(c){let p=e.indexOf(c);e.splice(p+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||e.unshift(t)}else e.push(t);return n.set(i,t),t}register(t,i){let e=this._namespaceLookup[t];return e||(e=this.createNamespace(t,i)),e}registerTrigger(t,i,e){let n=this._namespaceLookup[t];n&&n.register(i,e)&&this.totalAnimations++}destroy(t,i){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let e=this._fetchNamespace(t);this.namespacesByHostElement.delete(e.hostElement);let n=this._namespaceList.indexOf(e);n>=0&&this._namespaceList.splice(n,1),e.destroy(i),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let i=new Set,e=this.statesByElement.get(t);if(e){for(let n of e.values())if(n.namespaceId){let o=this._fetchNamespace(n.namespaceId);o&&i.add(o)}}return i}trigger(t,i,e,n){if(Vr(i)){let o=this._fetchNamespace(t);if(o)return o.trigger(i,e,n),!0}return!1}insertNode(t,i,e,n){if(!Vr(i))return;let o=i[ae];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(i);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(i,e)}n&&this.collectEnterElement(i)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,i){i?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ne(t,ms)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ti(t,ms))}removeNode(t,i,e){if(Vr(i)){let n=t?this._fetchNamespace(t):null;n?n.removeNode(i,e):this.markElementAsRemoved(t,i,!1,e);let o=this.namespacesByHostElement.get(i);o&&o.id!==t&&o.removeNode(i,e)}else this._onRemovalComplete(i,e)}markElementAsRemoved(t,i,e,n,o){this.collectedLeaveElements.push(i),i[ae]={namespaceId:t,setForRemoval:n,hasAnimation:e,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,i,e,n,o){return Vr(i)?this._fetchNamespace(t).listen(i,e,n,o):()=>{}}_buildInstruction(t,i,e,n,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,e,n,t.fromState.options,t.toState.options,i,o)}destroyInnerAnimations(t){let i=this.driver.query(t,en,!0);i.forEach(e=>this.destroyActiveAnimationsForElement(e)),this.playersByQueriedElement.size!=0&&(i=this.driver.query(t,Or,!0),i.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(t){let i=this.playersByElement.get(t);i&&i.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(t){let i=this.playersByQueriedElement.get(t);i&&i.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Oe(this.players).onDone(()=>t());t()})}processLeaveNode(t){let i=t[ae];if(i&&i.setForRemoval){if(t[ae]=Up,i.namespaceId){this.destroyInnerAnimations(t);let e=this._fetchNamespace(i.namespaceId);e&&e.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}t.classList?.contains(ms)&&this.markElementAsDisabled(t,!1),this.driver.query(t,zf,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(t=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,n)=>this._balanceNamespaceList(e,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let e=0;e<this.collectedEnterElements.length;e++){let n=this.collectedEnterElements[e];ne(n,Uf)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let e=[];try{i=this._flushAnimations(e,t)}finally{for(let n=0;n<e.length;n++)e[n]()}}else for(let e=0;e<this.collectedLeaveElements.length;e++){let n=this.collectedLeaveElements[e];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){let e=this._whenQuietFns;this._whenQuietFns=[],i.length?Oe(i).onDone(()=>{e.forEach(n=>n())}):e.forEach(n=>n())}}reportError(t){throw Ep(t)}_flushAnimations(t,i){let e=new on,n=[],o=new Map,s=[],a=new Map,c=new Map,p=new Map,g=new Set;this.disabledNodes.forEach(D=>{g.add(D);let N=this.driver.query(D,jf,!0);for(let R=0;R<N.length;R++)g.add(N[R])});let h=this.bodyNode,M=Array.from(this.statesByElement.keys()),I=Vp(M,this.collectedEnterElements),S=new Map,b=0;I.forEach((D,N)=>{let R=os+b++;S.set(N,R),D.forEach(J=>ne(J,R))});let Y=[],X=new Set,nt=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){let N=this.collectedLeaveElements[D],R=N[ae];R&&R.setForRemoval&&(Y.push(N),X.add(N),R.hasAnimation?this.driver.query(N,Kf,!0).forEach(J=>X.add(J)):nt.add(N))}let at=new Map,$=Vp(M,Array.from(X));$.forEach((D,N)=>{let R=Pr+b++;at.set(N,R),D.forEach(J=>ne(J,R))}),t.push(()=>{I.forEach((D,N)=>{let R=S.get(N);D.forEach(J=>Ti(J,R))}),$.forEach((D,N)=>{let R=at.get(N);D.forEach(J=>Ti(J,R))}),Y.forEach(D=>{this.processLeaveNode(D)})});let lt=[],z=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(i).forEach(R=>{let J=R.player,_t=R.element;if(lt.push(J),this.collectedEnterElements.length){let st=_t[ae];if(st&&st.setForMove){if(st.previousTriggersValues&&st.previousTriggersValues.has(R.triggerName)){let we=st.previousTriggersValues.get(R.triggerName),$t=this.statesByElement.get(R.element);if($t&&$t.has(R.triggerName)){let Yt=$t.get(R.triggerName);Yt.value=we,$t.set(R.triggerName,Yt)}}J.destroy();return}}let Rt=!h||!this.driver.containsElement(h,_t),bt=at.get(_t),v=S.get(_t),B=this._buildInstruction(R,e,v,bt,Rt);if(B.errors&&B.errors.length){z.push(B);return}if(Rt){J.onStart(()=>Ke(_t,B.fromStyles)),J.onDestroy(()=>se(_t,B.toStyles)),n.push(J);return}if(R.isFallbackTransition){J.onStart(()=>Ke(_t,B.fromStyles)),J.onDestroy(()=>se(_t,B.toStyles)),n.push(J);return}let Dt=[];B.timelines.forEach(st=>{st.stretchStartingKeyframe=!0,this.disabledNodes.has(st.element)||Dt.push(st)}),B.timelines=Dt,e.append(_t,B.timelines);let kt={instruction:B,player:J,element:_t};s.push(kt),B.queriedElements.forEach(st=>qt(a,st,[]).push(J)),B.preStyleProps.forEach((st,we)=>{if(st.size){let $t=c.get(we);$t||c.set(we,$t=new Set),st.forEach((Yt,Ii)=>$t.add(Ii))}}),B.postStyleProps.forEach((st,we)=>{let $t=p.get(we);$t||p.set(we,$t=new Set),st.forEach((Yt,Ii)=>$t.add(Ii))})});if(z.length){let D=[];z.forEach(N=>{D.push(xp(N.triggerName,N.errors))}),lt.forEach(N=>N.destroy()),this.reportError(D)}let ut=new Map,ot=new Map;s.forEach(D=>{let N=D.element;e.has(N)&&(ot.set(N,N),this._beforeAnimationBuild(D.player.namespaceId,D.instruction,ut))}),n.forEach(D=>{let N=D.element;this._getPreviousPlayers(N,!1,D.namespaceId,D.triggerName,null).forEach(J=>{qt(ut,N,[]).push(J),J.destroy()})});let Vt=Y.filter(D=>$p(D,c,p)),Nt=new Map;Lp(Nt,this.driver,nt,p,oe).forEach(D=>{$p(D,c,p)&&Vt.push(D)});let Mt=new Map;I.forEach((D,N)=>{Lp(Mt,this.driver,new Set(D),c,Ji)}),Vt.forEach(D=>{let N=Nt.get(D),R=Mt.get(D);Nt.set(D,new Map([...N?.entries()??[],...R?.entries()??[]]))});let ki=[],hn=[],so={};s.forEach(D=>{let{element:N,player:R,instruction:J}=D;if(e.has(N)){if(g.has(N)){R.onDestroy(()=>se(N,J.toStyles)),R.disabled=!0,R.overrideTotalTime(J.totalTime),n.push(R);return}let _t=so;if(ot.size>1){let bt=N,v=[];for(;bt=bt.parentNode;){let B=ot.get(bt);if(B){_t=B;break}v.push(bt)}v.forEach(B=>ot.set(B,_t))}let Rt=this._buildAnimation(R.namespaceId,J,ut,o,Mt,Nt);if(R.setRealPlayer(Rt),_t===so)ki.push(R);else{let bt=this.playersByElement.get(_t);bt&&bt.length&&(R.parentPlayer=Oe(bt)),n.push(R)}}else Ke(N,J.fromStyles),R.onDestroy(()=>se(N,J.toStyles)),hn.push(R),g.has(N)&&n.push(R)}),hn.forEach(D=>{let N=o.get(D.element);if(N&&N.length){let R=Oe(N);D.setRealPlayer(R)}}),n.forEach(D=>{D.parentPlayer?D.syncPlayerEvents(D.parentPlayer):D.destroy()});for(let D=0;D<Y.length;D++){let N=Y[D],R=N[ae];if(Ti(N,Pr),R&&R.hasAnimation)continue;let J=[];if(a.size){let Rt=a.get(N);Rt&&Rt.length&&J.push(...Rt);let bt=this.driver.query(N,Or,!0);for(let v=0;v<bt.length;v++){let B=a.get(bt[v]);B&&B.length&&J.push(...B)}}let _t=J.filter(Rt=>!Rt.destroyed);_t.length?Xf(this,N,_t):this.processLeaveNode(N)}return Y.length=0,ki.forEach(D=>{this.players.push(D),D.onDone(()=>{D.destroy();let N=this.players.indexOf(D);this.players.splice(N,1)}),D.play()}),ki}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,i,e,n,o){let s=[];if(i){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let c=!o||o==rn;a.forEach(p=>{p.queued||!c&&p.triggerName!=n||s.push(p)})}}return(e||n)&&(s=s.filter(a=>!(e&&e!=a.namespaceId||n&&n!=a.triggerName))),s}_beforeAnimationBuild(t,i,e){let n=i.triggerName,o=i.element,s=i.isRemovalTransition?void 0:t,a=i.isRemovalTransition?void 0:n;for(let c of i.timelines){let p=c.element,g=p!==o,h=qt(e,p,[]);this._getPreviousPlayers(p,g,s,a,i.toState).forEach(I=>{let S=I.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),I.destroy(),h.push(I)})}Ke(o,i.fromStyles)}_buildAnimation(t,i,e,n,o,s){let a=i.triggerName,c=i.element,p=[],g=new Set,h=new Set,M=i.timelines.map(S=>{let b=S.element;g.add(b);let Y=b[ae];if(Y&&Y.removedBeforeQueried)return new Pe(S.duration,S.delay);let X=b!==c,nt=Zf((e.get(b)||qf).map(ut=>ut.getRealPlayer())).filter(ut=>{let ot=ut;return ot.element?ot.element===b:!1}),at=o.get(b),$=s.get(b),lt=ts(this._normalizer,S.keyframes,at,$),z=this._buildPlayer(S,lt,nt);if(S.subTimeline&&n&&h.add(b),X){let ut=new an(t,a,b);ut.setRealPlayer(z),p.push(ut)}return z});p.forEach(S=>{qt(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>Qf(this.playersByQueriedElement,S.element,S))}),g.forEach(S=>ne(S,ss));let I=Oe(M);return I.onDestroy(()=>{g.forEach(S=>Ti(S,ss)),se(c,i.toStyles)}),h.forEach(S=>{qt(n,S,[]).push(I)}),I}_buildPlayer(t,i,e){return i.length>0?this.driver.animate(t.element,i,t.duration,t.delay,t.easing,e):new Pe(t.duration,t.delay)}},an=class{namespaceId;triggerName;element;_player=new Pe;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,i,e){this.namespaceId=t,this.triggerName=i,this.element=e}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((i,e)=>{i.forEach(n=>Dr(t,e,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let i=this._player;i.triggerCallback&&t.onStart(()=>i.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,i){qt(this._queuedCallbacks,t,[]).push(i)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let i=this._player;i.triggerCallback&&i.triggerCallback(t)}};function Qf(r,t,i){let e=r.get(t);if(e){if(e.length){let n=e.indexOf(i);e.splice(n,1)}e.length==0&&r.delete(t)}return e}function Wf(r){return r??null}function Vr(r){return r&&r.nodeType===1}function Yf(r){return r=="start"||r=="done"}function Fp(r,t){let i=r.style.display;return r.style.display=t??"none",i}function Lp(r,t,i,e,n){let o=[];i.forEach(c=>o.push(Fp(c)));let s=[];e.forEach((c,p)=>{let g=new Map;c.forEach(h=>{let M=t.computeStyle(p,h,n);g.set(h,M),(!M||M.length==0)&&(p[ae]=Gf,s.push(p))}),r.set(p,g)});let a=0;return i.forEach(c=>Fp(c,o[a++])),s}function Vp(r,t){let i=new Map;if(r.forEach(a=>i.set(a,[])),t.length==0)return i;let e=1,n=new Set(t),o=new Map;function s(a){if(!a)return e;let c=o.get(a);if(c)return c;let p=a.parentNode;return i.has(p)?c=p:n.has(p)?c=e:c=s(p),o.set(a,c),c}return t.forEach(a=>{let c=s(a);c!==e&&i.get(c).push(a)}),i}function ne(r,t){r.classList?.add(t)}function Ti(r,t){r.classList?.remove(t)}function Xf(r,t,i){Oe(i).onDone(()=>r.processLeaveNode(t))}function Zf(r){let t=[];return Kp(r,t),t}function Kp(r,t){for(let i=0;i<r.length;i++){let e=r[i];e instanceof bi?Kp(e.players,t):t.push(e)}}function Jf(r,t){let i=Object.keys(r),e=Object.keys(t);if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++){let o=i[n];if(!t.hasOwnProperty(o)||r[o]!==t[o])return!1}return!0}function $p(r,t,i){let e=i.get(r);if(!e)return!1;let n=t.get(r);return n?e.forEach(o=>n.add(o)):t.set(r,e),i.delete(r),!0}var Ai=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,i)=>{};constructor(t,i,e){this._driver=i,this._normalizer=e,this._transitionEngine=new bs(t.body,i,e),this._timelineEngine=new vs(t.body,i,e),this._transitionEngine.onRemovalComplete=(n,o)=>this.onRemovalComplete(n,o)}registerTrigger(t,i,e,n,o){let s=t+"-"+n,a=this._triggerCache[s];if(!a){let c=[],p=[],g=Hp(this._driver,o,c,p);if(c.length)throw fp(n,c);a=$f(n,g,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(i,n,a)}register(t,i){this._transitionEngine.register(t,i)}destroy(t,i){this._transitionEngine.destroy(t,i)}onInsert(t,i,e,n){this._transitionEngine.insertNode(t,i,e,n)}onRemove(t,i,e){this._transitionEngine.removeNode(t,i,e)}disableAnimations(t,i){this._transitionEngine.markElementAsDisabled(t,i)}process(t,i,e,n){if(e.charAt(0)=="@"){let[o,s]=es(e),a=n;this._timelineEngine.command(o,i,s,a)}else this._transitionEngine.trigger(t,i,e,n)}listen(t,i,e,n,o){if(e.charAt(0)=="@"){let[s,a]=es(e);return this._timelineEngine.listen(s,i,a,o)}return this._transitionEngine.listen(t,i,e,n,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function th(r,t){let i=null,e=null;return Array.isArray(t)&&t.length?(i=ds(t[0]),t.length>1&&(e=ds(t[t.length-1]))):t instanceof Map&&(i=ds(t)),i||e?new eh(r,i,e):null}var eh=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(i,e,n){this._element=i,this._startStyles=e,this._endStyles=n;let o=r.initialStylesByElement.get(i);o||r.initialStylesByElement.set(i,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&se(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(se(this._element,this._initialStyles),this._endStyles&&(se(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Ke(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ke(this._element,this._endStyles),this._endStyles=null),se(this._element,this._initialStyles),this._state=3)}}return r})();function ds(r){let t=null;return r.forEach((i,e)=>{ih(e)&&(t=t||new Map,t.set(e,i))}),t}function ih(r){return r==="display"||r==="position"}var Kr=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,i,e,n){this.element=t,this.keyframes=i,this.options=e,this._specialStyles=n,this._duration=e.duration,this._delay=e.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let t=this.keyframes,i=this._triggerWebAnimation(this.element,t,this.options);if(!i)return this._onFinish(),null;this.domPlayer=i,this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();return i.addEventListener("finish",e),this.onDestroy(()=>{i.removeEventListener("finish",e)}),i}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(t){let i=[];return t.forEach(e=>{i.push(Object.fromEntries(e))}),i}_triggerWebAnimation(t,i,e){let n=this._convertKeyframesToObject(i);try{return t.animate(n,e)}catch{return null}}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){let t=this._buildPlayer();t&&(this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),t.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=t*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((e,n)=>{n!=="offset"&&t.set(n,this._finished?e:Rr(this.element,n))}),this.currentSnapshot=t}triggerCallback(t){let i=t==="start"?this._onStartFns:this._onDoneFns;i.forEach(e=>e()),i.length=0}},qr=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,i){return is(t,i)}getParentElement(t){return Ir(t)}query(t,i,e){return ns(t,i,e)}computeStyle(t,i,e){return Rr(t,i)}animate(t,i,e,n,o,s=[]){let a=n==0?"both":"forwards",c={duration:e,delay:n,fill:a};o&&(c.easing=o);let p=new Map,g=s.filter(I=>I instanceof Kr);Mp(e,n)&&g.forEach(I=>{I.currentSnapshot.forEach((S,b)=>p.set(b,S))});let h=Ap(i).map(I=>new Map(I));h=Dp(t,h,p);let M=th(t,h);return new Kr(t,h,c,M)}};var $r="@",qp="@.disabled",Gr=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,i,e,n){this.namespaceId=t,this.delegate=i,this.engine=e,this._onDestroy=n}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,i){this.delegate.appendChild(t,i),this.engine.onInsert(this.namespaceId,i,t,!1)}insertBefore(t,i,e,n=!0){this.delegate.insertBefore(t,i,e),this.engine.onInsert(this.namespaceId,i,t,n)}removeChild(t,i,e,n){if(n){this.delegate.removeChild(t,i,e,n);return}this.parentNode(i)&&this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,e,n){this.delegate.setAttribute(t,i,e,n)}removeAttribute(t,i,e){this.delegate.removeAttribute(t,i,e)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,e,n){this.delegate.setStyle(t,i,e,n)}removeStyle(t,i,e){this.delegate.removeStyle(t,i,e)}setProperty(t,i,e){i.charAt(0)==$r&&i==qp?this.disableAnimations(t,!!e):this.delegate.setProperty(t,i,e)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,e,n){return this.delegate.listen(t,i,e,n)}disableAnimations(t,i){this.engine.disableAnimations(t,i)}},Es=class extends Gr{factory;constructor(t,i,e,n,o){super(i,e,n,o),this.factory=t,this.namespaceId=i}setProperty(t,i,e){i.charAt(0)==$r?i.charAt(1)=="."&&i==qp?(e=e===void 0?!0:!!e,this.disableAnimations(t,e)):this.engine.process(this.namespaceId,t,i.slice(1),e):this.delegate.setProperty(t,i,e)}listen(t,i,e,n){if(i.charAt(0)==$r){let o=nh(t),s=i.slice(1),a="";return s.charAt(0)!=$r&&([s,a]=rh(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let p=c._data||-1;this.factory.scheduleListenerCallback(p,e,c)})}return this.delegate.listen(t,i,e,n)}};function nh(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function rh(r){let t=r.indexOf("."),i=r.substring(0,t),e=r.slice(t+1);return[i,e]}var Qr=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,i,e){this.delegate=t,this.engine=i,this._zone=e,i.onRemovalComplete=(n,o)=>{o?.removeChild(null,n)}}createRenderer(t,i){let n=this.delegate.createRenderer(t,i);if(!t||!i?.data?.animation){let p=this._rendererCache,g=p.get(n);if(!g){let h=()=>p.delete(n);g=new Gr("",n,this.engine,h),p.set(n,g)}return g}let o=i.id,s=i.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=p=>{Array.isArray(p)?p.forEach(a):this.engine.registerTrigger(o,s,t,p.name,p)};return i.data.animation.forEach(a),new Es(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,e){if(t>=0&&t<this._microtaskId){this._zone.run(()=>i(e));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),n.push([i,e])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var sh=(()=>{class r extends Ai{constructor(i,e,n){super(i,e,n)}ngOnDestroy(){this.flush()}static \u0275fac=function(e){return new(e||r)(Pt(Sn),Pt(ti),Pt(ei))};static \u0275prov=P({token:r,factory:r.\u0275fac})}return r})();function ah(){return new Br}function lh(r,t,i){return new Qr(r,t,i)}var Gp=[{provide:ei,useFactory:ah},{provide:Ai,useClass:sh},{provide:ha,useFactory:lh,deps:[Pa,Ai,ni]}],Qp=[{provide:ti,useClass:xs},{provide:co,useValue:"NoopAnimations"},...Gp],As=[{provide:ti,useFactory:()=>new qr},{provide:co,useFactory:()=>"BrowserAnimations"},...Gp],Wp=(()=>{class r{static withConfig(i){return{ngModule:r,providers:i.disableAnimations?Qp:As}}static \u0275fac=function(e){return new(e||r)};static \u0275mod=pe({type:r});static \u0275inj=me({providers:As,imports:[Tn]})}return r})();function Yp(){return ua("NgEagerAnimations"),[...As]}function Xp(){return[...Qp]}var cn="PERFORM_ACTION",ch="REFRESH",nd="RESET",rd="ROLLBACK",od="COMMIT",sd="SWEEP",ad="TOGGLE_ACTION",mh="SET_ACTIONS_ACTIVE",ld="JUMP_TO_STATE",cd="JUMP_TO_ACTION",$s="IMPORT_STATE",md="LOCK_CHANGES",pd="PAUSE_RECORDING",wi=class{constructor(t,i){if(this.action=t,this.timestamp=i,this.type=cn,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},ws=class{constructor(){this.type=ch}},Ms=class{constructor(t){this.timestamp=t,this.type=nd}},Ds=class{constructor(t){this.timestamp=t,this.type=rd}},ks=class{constructor(t){this.timestamp=t,this.type=od}},Is=class{constructor(){this.type=sd}},Ps=class{constructor(t){this.id=t,this.type=ad}};var Os=class{constructor(t){this.index=t,this.type=ld}},Ns=class{constructor(t){this.actionId=t,this.type=cd}},Rs=class{constructor(t){this.nextLiftedState=t,this.type=$s}},Fs=class{constructor(t){this.status=t,this.type=md}},Ls=class{constructor(t){this.status=t,this.type=pd}};var Zr=new Le("@ngrx/store-devtools Options"),Zp=new Le("@ngrx/store-devtools Initial Config");function dd(){return null}var ph="NgRx Store DevTools";function dh(r){let t={maxAge:!1,monitor:dd,actionSanitizer:void 0,stateSanitizer:void 0,name:ph,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},i=typeof r=="function"?r():r,e=i.logOnly?{pause:!0,export:!0,test:!0}:!1,n=i.features||e||t.features;n.import===!0&&(n.import="custom");let o=Object.assign({},t,{features:n},i);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function Jp(r,t){return r.filter(i=>t.indexOf(i)<0)}function ud(r){let{computedStates:t,currentStateIndex:i}=r;if(i>=t.length){let{state:n}=t[t.length-1];return n}let{state:e}=t[i];return e}function ln(r){return new wi(r,+Date.now())}function uh(r,t){return Object.keys(t).reduce((i,e)=>{let n=Number(e);return i[n]=fd(r,t[n],n),i},{})}function fd(r,t,i){return w(y({},t),{action:r(t.action,i)})}function fh(r,t){return t.map((i,e)=>({state:hd(r,i.state,e),error:i.error}))}function hd(r,t,i){return r(t,i)}function gd(r){return r.predicate||r.actionsSafelist||r.actionsBlocklist}function hh(r,t,i,e){let n=[],o={},s=[];return r.stagedActionIds.forEach((a,c)=>{let p=r.actionsById[a];p&&(c&&Bs(r.computedStates[c],p,t,i,e)||(o[a]=p,n.push(a),s.push(r.computedStates[c])))}),w(y({},r),{stagedActionIds:n,actionsById:o,computedStates:s})}function Bs(r,t,i,e,n){let o=i&&!i(r,t.action),s=e&&!t.action.type.match(e.map(c=>td(c)).join("|")),a=n&&t.action.type.match(n.map(c=>td(c)).join("|"));return o||s||a}function td(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function yd(r){return{ngZone:r?d(ni):null,connectInZone:r}}var Jr=(()=>{let t=class t extends Mn{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=_n(t)))(o||t)}})(),t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})(),Wr={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Vs=new Le("@ngrx/store-devtools Redux Devtools Extension"),Sd=(()=>{let t=class t{constructor(e,n,o){this.config=n,this.dispatcher=o,this.zoneConfig=yd(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,n){if(this.devtoolsExtension)if(e.type===cn){if(n.isLocked||n.isPaused)return;let o=ud(n);if(gd(this.config)&&Bs(o,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?hd(this.config.stateSanitizer,o,n.currentStateIndex):o,a=this.config.actionSanitizer?fd(this.config.actionSanitizer,e,n.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,s))}else{let o=w(y({},n),{stagedActionIds:n.stagedActionIds,actionsById:this.config.actionSanitizer?uh(this.config.actionSanitizer,n.actionsById):n.actionsById,computedStates:this.config.stateSanitizer?fh(this.config.stateSanitizer,n.computedStates):n.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,o,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ao(e=>{let n=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=n,n.init(),n.subscribe(o=>e.next(o)),n.unsubscribe}):Xs}createActionStreams(){let e=this.createChangesObservable().pipe(ra()),n=e.pipe(mt(g=>g.type===Wr.START)),o=e.pipe(mt(g=>g.type===Wr.STOP)),s=e.pipe(mt(g=>g.type===Wr.DISPATCH),C(g=>this.unwrapAction(g.payload)),ta(g=>g.type===$s?this.dispatcher.pipe(mt(h=>h.type===So),Js(1e3),Ge(1e3),C(()=>g),F(()=>_(g)),It(1)):_(g))),c=e.pipe(mt(g=>g.type===Wr.ACTION),C(g=>this.unwrapAction(g.payload))).pipe(Ct(o)),p=s.pipe(Ct(o));this.start$=n.pipe(Ct(o)),this.actions$=this.start$.pipe(x(()=>c)),this.liftedActions$=this.start$.pipe(x(()=>p))}unwrapAction(e){return typeof e=="string"?(0,eval)(`(${e})`):e}getExtensionConfig(e){let n={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(n.maxAge=e.maxAge),n}sendToReduxDevtools(e){try{e()}catch(n){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",n)}}};t.\u0275fac=function(n){return new(n||t)(Pt(Vs),Pt(Zr),Pt(Jr))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})(),Xr={type:yo},gh="@ngrx/store-devtools/recompute",yh={type:gh};function _d(r,t,i,e,n){if(e)return{state:i,error:"Interrupted by an error up the chain"};let o=i,s;try{o=r(i,t)}catch(a){s=a.toString(),n.handleError(a)}return{state:o,error:s}}function Yr(r,t,i,e,n,o,s,a,c){if(t>=r.length&&r.length===o.length)return r;let p=r.slice(0,t),g=o.length-(c?1:0);for(let h=t;h<g;h++){let M=o[h],I=n[M].action,S=p[h-1],b=S?S.state:e,Y=S?S.error:void 0,nt=s.indexOf(M)>-1?S:_d(i,I,b,Y,a);p.push(nt)}return c&&p.push(r[r.length-1]),p}function Sh(r,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:ln(Xr)},stagedActionIds:[0],skippedActionIds:[],committedState:r,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function _h(r,t,i,e,n={}){return o=>(s,a)=>{let{monitorState:c,actionsById:p,nextActionId:g,stagedActionIds:h,skippedActionIds:M,committedState:I,currentStateIndex:S,computedStates:b,isLocked:Y,isPaused:X}=s||t;s||(p=Object.create(p));function nt(lt){let z=lt,ut=h.slice(1,z+1);for(let ot=0;ot<ut.length;ot++)if(b[ot+1].error){z=ot,ut=h.slice(1,z+1);break}else delete p[ut[ot]];M=M.filter(ot=>ut.indexOf(ot)===-1),h=[0,...h.slice(z+1)],I=b[z].state,b=b.slice(z),S=S>z?S-z:0}function at(){p={0:ln(Xr)},g=1,h=[0],M=[],I=b[S].state,S=0,b=[]}let $=0;switch(a.type){case md:{Y=a.status,$=1/0;break}case pd:{X=a.status,X?(h=[...h,g],p[g]=new wi({type:"@ngrx/devtools/pause"},+Date.now()),g++,$=h.length-1,b=b.concat(b[b.length-1]),S===h.length-2&&S++,$=1/0):at();break}case nd:{p={0:ln(Xr)},g=1,h=[0],M=[],I=r,S=0,b=[];break}case od:{at();break}case rd:{p={0:ln(Xr)},g=1,h=[0],M=[],S=0,b=[];break}case ad:{let{id:lt}=a;M.indexOf(lt)===-1?M=[lt,...M]:M=M.filter(ut=>ut!==lt),$=h.indexOf(lt);break}case mh:{let{start:lt,end:z,active:ut}=a,ot=[];for(let Vt=lt;Vt<z;Vt++)ot.push(Vt);ut?M=Jp(M,ot):M=[...M,...ot],$=h.indexOf(lt);break}case ld:{S=a.index,$=1/0;break}case cd:{let lt=h.indexOf(a.actionId);lt!==-1&&(S=lt),$=1/0;break}case sd:{h=Jp(h,M),M=[],S=Math.min(S,h.length-1);break}case cn:{if(Y)return s||t;if(X||s&&Bs(s.computedStates[S],a,n.predicate,n.actionsSafelist,n.actionsBlocklist)){let z=b[b.length-1];b=[...b.slice(0,-1),_d(o,a.action,z.state,z.error,i)],$=1/0;break}n.maxAge&&h.length===n.maxAge&&nt(1),S===h.length-1&&S++;let lt=g++;p[lt]=a,h=[...h,lt],$=h.length-1;break}case $s:{({monitorState:c,actionsById:p,nextActionId:g,stagedActionIds:h,skippedActionIds:M,committedState:I,currentStateIndex:S,computedStates:b,isLocked:Y,isPaused:X}=a.nextLiftedState);break}case yo:{$=0,n.maxAge&&h.length>n.maxAge&&(b=Yr(b,$,o,I,p,h,M,i,X),nt(h.length-n.maxAge),$=1/0);break}case So:{if(b.filter(z=>z.error).length>0)$=0,n.maxAge&&h.length>n.maxAge&&(b=Yr(b,$,o,I,p,h,M,i,X),nt(h.length-n.maxAge),$=1/0);else{if(!X&&!Y){S===h.length-1&&S++;let z=g++;p[z]=new wi(a,+Date.now()),h=[...h,z],$=h.length-1,b=Yr(b,$,o,I,p,h,M,i,X)}b=b.map(z=>w(y({},z),{state:o(z.state,yh)})),S=h.length-1,n.maxAge&&h.length>n.maxAge&&nt(h.length-n.maxAge),$=1/0}break}default:{$=1/0;break}}return b=Yr(b,$,o,I,p,h,M,i,X),c=e(c,a),{monitorState:c,actionsById:p,nextActionId:g,stagedActionIds:h,skippedActionIds:M,committedState:I,currentStateIndex:S,computedStates:b,isLocked:Y,isPaused:X}}}var ed=(()=>{let t=class t{constructor(e,n,o,s,a,c,p,g){let h=Sh(p,g.monitor),M=_h(p,h,c,g.monitor,g),I=lo(lo(n.asObservable().pipe(oa(1)),s.actions$).pipe(C(ln)),e,s.liftedActions$).pipe(Zs(Ys)),S=o.pipe(C(M)),b=yd(g.connectInZone),Y=new Ws(1);this.liftedStateSubscription=I.pipe(sa(S),id(b),na(({state:at},[$,lt])=>{let z=lt(at,$);return $.type!==cn&&gd(g)&&(z=hh(z,g.predicate,g.actionsSafelist,g.actionsBlocklist)),s.notify($,z),{state:z,action:$}},{state:h,action:null})).subscribe(({state:at,action:$})=>{if(Y.next(at),$.type===cn){let lt=$.action;a.next(lt)}}),this.extensionStartSubscription=s.start$.pipe(id(b)).subscribe(()=>{this.refresh()});let X=Y.asObservable(),nt=X.pipe(C(ud));Object.defineProperty(nt,"state",{value:za(nt,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=X,this.state=nt}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new wi(e,+Date.now()))}refresh(){this.dispatch(new ws)}reset(){this.dispatch(new Ms(+Date.now()))}rollback(){this.dispatch(new Ds(+Date.now()))}commit(){this.dispatch(new ks(+Date.now()))}sweep(){this.dispatch(new Is)}toggleAction(e){this.dispatch(new Ps(e))}jumpToAction(e){this.dispatch(new Ns(e))}jumpToState(e){this.dispatch(new Os(e))}importState(e){this.dispatch(new Rs(e))}lockChanges(e){this.dispatch(new Fs(e))}pauseRecording(e){this.dispatch(new Ls(e))}};t.\u0275fac=function(n){return new(n||t)(Pt(Jr),Pt(Mn),Pt(Ka),Pt(Sd),Pt(Ga),Pt(ca),Pt(Ua),Pt(Zr))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();function id({ngZone:r,connectInZone:t}){return i=>t?new ao(e=>i.subscribe({next:n=>r.run(()=>e.next(n)),error:n=>r.run(()=>e.error(n)),complete:()=>r.run(()=>e.complete())})):i}var vh=new Le("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Ch(r,t){return!!r||t.monitor!==dd}function bh(){let r="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[r]<"u"?window[r]:null}function Eh(r){return r.state}function xh(r={}){return la([Sd,Jr,ed,{provide:Zp,useValue:r},{provide:vh,deps:[Vs,Zr],useFactory:Ch},{provide:Vs,useFactory:bh},{provide:Zr,deps:[Zp],useFactory:dh},{provide:Qa,deps:[ed],useFactory:Eh},{provide:qa,useExisting:Jr}])}var vd=(()=>{let t=class t{static instrument(e={}){return{ngModule:t,providers:[xh(e)]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=pe({type:t}),t.\u0275inj=me({});let r=t;return r})();var Hs={production:!0};var Th={about:null,status:"pending"},Cd=St(Th,O(tr,r=>w(y({},r),{status:"loading"})),O(er,(r,{response:t})=>w(y({},r),{about:t.about,status:"success"})));var to="status-history";var mn={statusHistory:{},status:"pending",loadedTimestamp:""},bd=St(mn,O(We,Wn,r=>w(y({},r),{status:"loading"})),O(di,Bi,(r,{response:t})=>w(y({},r),{status:"success",loadedTimestamp:t.statusHistory.statusHistory.generated,statusHistory:t.statusHistory})),O(Hi,r=>w(y({},r),{status:"error"})),O(kc,()=>y({},mn)),O(Yn,Xn,()=>y({},mn)));var Ed={setEnableRequest:{enable:!0,currentStep:ct.Pending,scope:"SERVICE_ONLY"},controllerService:null,status:"pending"},xd=St(Ed,O(pm,()=>y({},Ed)),O(dm,(r,{request:t})=>w(y({},r),{controllerService:t.controllerService})),O(fr,(r,{request:t})=>w(y({},r),{setEnableRequest:{enable:!0,currentStep:ct.EnableService,scope:t.scope}})),O(hr,r=>w(y({},r),{setEnableRequest:{enable:!1,currentStep:ct.StopReferencingComponents,scope:"SERVICE_AND_REFERENCING_COMPONENTS"}})),O(qi,Qi,(r,{response:t})=>w(y({},r),{controllerService:t.controllerService,setEnableRequest:w(y({},r.setEnableRequest),{currentStep:t.currentStep})})),O(yr,Gi,(r,{response:t})=>Wt(r,i=>{i.controllerService&&(i.controllerService.component.referencingComponents=t.referencingComponents),i.setEnableRequest.currentStep=t.currentStep})),O(Ee,(r,{response:t})=>w(y({},r),{setEnableRequest:w(y({},r.setEnableRequest),{error:t}),status:"error"})));var eo="componentState";var Td={componentName:null,componentType:null,componentId:null,componentState:null,canClear:null,clearing:!1,status:"pending"},Ad=St(Td,O(cr,(r,{request:t})=>w(y({},r),{componentName:t.componentName,componentType:t.componentType,componentId:t.componentId,canClear:t.canClear,status:"loading"})),O(Ki,pr,(r,{response:t})=>w(y({},r),{clearing:!1,status:"success",componentState:t.componentState})),O(fi,hi,r=>w(y({},r),{clearing:!0})),O(gi,r=>w(y({},r),{clearing:!1,status:"error"})),O(dr,()=>y({},Td)));var wd={bannerErrors:{},fullScreenError:null,routedToFullScreenError:!1},Md=St(wd,O(te,(r,{errorDetail:t})=>w(y({},r),{fullScreenError:t})),O(ke,(r,{errorContext:t})=>Wt(r,i=>{i.bannerErrors===null&&(i.bannerErrors={}),i.bannerErrors[t.context]||(i.bannerErrors[t.context]=[]),i.bannerErrors[t.context].push(...t.errors)})),O(tl,(r,{context:t})=>Wt(r,i=>{i.bannerErrors&&i.bannerErrors[t]&&delete i.bannerErrors[t]})),O(Rn,(r,{routedToFullScreenError:t})=>w(y({},r),{routedToFullScreenError:t})),O(Nn,()=>y({},wd)));var Ah={disconnectionAcknowledged:!1,connectedStateChanged:!1,clusterSummary:null,searchResults:null,status:"pending"},Dd=St(Ah,O(ji,r=>w(y({},r),{status:"loading"})),O(nr,(r,{response:t})=>w(y({},r),{clusterSummary:t.clusterSummary,status:"success"})),O(rr,(r,{response:t})=>w(y({},r),{searchResults:t})),O(Ye,r=>w(y({},r),{connectedStateChanged:!0})),O($c,r=>w(y({},r),{connectedStateChanged:!1})),O(zi,(r,{disconnectionAcknowledged:t})=>w(y({},r),{disconnectionAcknowledged:t})));var wh={loginConfiguration:null,status:"pending"},kd=St(wh,O(Ar,r=>w(y({},r),{status:"loading"})),O(Ue,(r,{response:t})=>w(y({},r),{loginConfiguration:t.loginConfiguration,status:"success"})));var Id={results:[],status:"pending",requestContext:null,activeRequest:null,configurationAnalysis:null,attributes:null},Pd=St(Id,O(vi,(r,{response:t})=>Wt(r,i=>{i.status="loading",i.configurationAnalysis=t.configurationAnalysis,i.requestContext=t.requestContext,t.configurationAnalysis.supportsVerification&&(i.attributes=t.configurationAnalysis.referencedAttributes)})),O(Si,(r,{response:t})=>w(y({},r),{configurationAnalysis:t.configurationAnalysis,requestContext:t.requestContext})),O(Xi,Yi,(r,{response:t})=>w(y({},r),{activeRequest:t.request,results:t.request.results||[]})),O(br,r=>w(y({},r),{activeRequest:null,status:"success"})),O(gm,r=>w(y({},Id),{attributes:r.attributes})));var Mh={backNavigations:[]},Od=St(Mh,O(or,(r,{backNavigation:t})=>Wt(r,i=>{if(i.backNavigations.length>0){let e=i.backNavigations[i.backNavigations.length-1];Dh(e.route,t.route)&&i.backNavigations.push(t)}else i.backNavigations.push(t)})),O(sr,(r,{url:t})=>Wt(r,i=>{for(;i.backNavigations.length>0;){let e=i.backNavigations[i.backNavigations.length-1];if(!t.startsWith(e.routeBoundary.join("/")))i.backNavigations.pop();else break}})),O(Uc,r=>Wt(r,t=>{t.backNavigations.length>0&&t.backNavigations.pop()})));function Dh(r,t){if(r.length!==t.length)return!0;for(let i=0;i<r.length;i++)if(r[i]!==t[i])return!0;return!1}var kh={bannerText:null,status:"pending"},Nd=St(kh,O(ar,r=>w(y({},r),{status:"loading"})),O(lr,(r,{response:t})=>w(y({},r),{bannerText:t.bannerText,status:"success"})));var Ih={documentVisibility:Zi.Visible,changedTimestamp:Date.now()},Rd=St(Ih,O(Mr,(r,{change:t})=>w(y({},r),{documentVisibility:t.documentVisibility,changedTimestamp:t.changedTimestamp})));var Fd={copiedContent:null},Ld=St(Fd,O(Rm,(r,{content:t})=>w(y({},r),{copiedContent:t})),O(Fm,(r,{pasted:t})=>Wt(r,i=>{t.strategy===Om.OFFSET_FROM_ORIGINAL&&i.copiedContent&&i.copiedContent.copyResponse.id===t.copyId&&i.copiedContent.processGroupId===t.processGroupId&&i.copiedContent.pasteCount++})),O(Lm,()=>y({},Fd)));var Vd={[lc]:sc,[nl]:Md,[Ja]:km,[Mc]:om,[Kc]:Cd,[Gc]:Nd,[jc]:Od,[Nc]:Im,[el]:kd,[to]:bd,[mm]:xd,[xm]:Mm,[eo]:Ad,[$m]:Rd,[Hc]:Dd,[am]:Pd,[Pm]:Ld};var $d=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.store=d(Z),this.router=d($e),this.userService=d(Tr),this.authService=d(Be),this.errorHelper=d(ht),this.loadCurrentUser$=A(()=>this.actions$.pipe(E(_o),x(()=>K(this.userService.getUser().pipe(C(e=>kn({response:{user:e}})),F(e=>_(this.errorHelper.fullScreenError(e)))))))),this.startCurrentUserPolling$=A(()=>this.actions$.pipe(E(Ya),x(()=>Fe(3e4,Re).pipe(Ct(this.actions$.pipe(E(In))))),x(()=>_(_o())))),this.navigateToLogIn$=A(()=>this.actions$.pipe(E(Pn),tt(()=>{this.router.navigate(["/login"])})),{dispatch:!1}),this.logout$=A(()=>this.actions$.pipe(E(Za),x(()=>K(this.authService.logout()).pipe(C(()=>vo()),F(e=>_(this.errorHelper.fullScreenError(e))))))),this.navigateToLogOut$=A(()=>this.actions$.pipe(E(vo),gt(()=>this.store.select(il)),tt(([,e])=>{e&&(window.location.href=e)})),{dispatch:!1})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var Bd=(r,t)=>{let i=d(Z);return t(r).pipe(F(e=>{if(e instanceof An&&e.status===401)return qe([i.select(On).pipe(It(1),tt(()=>i.dispatch(Xa()))),i.select(si).pipe(It(1)),i.select(ol).pipe(It(1),tt(()=>i.dispatch(Rn({routedToFullScreenError:!0}))))]).pipe(x(([n,o,s])=>(n.status==="pending"&&o?.loginSupported&&!s?i.dispatch(Pn()):i.dispatch(te({errorDetail:{title:"Unauthorized",message:"Your session has expired. Please navigate home to log in again."}})),yn)));throw e}))};var Hd=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.extensionTypesService=d(um),this.errorHelper=d(ht),this.loadExtensionTypesForCanvas$=A(()=>this.actions$.pipe(E(vc),x(()=>qe([this.extensionTypesService.getProcessorTypes(),this.extensionTypesService.getControllerServiceTypes(),this.extensionTypesService.getPrioritizers()]).pipe(C(([e,n,o])=>Cc({response:{processorTypes:e.processorTypes,controllerServiceTypes:n.controllerServiceTypes,prioritizers:o.prioritizerTypes}})),F(e=>_(pi({error:e}))))))),this.loadExtensionTypesForSettings$=A(()=>this.actions$.pipe(E(bc),x(()=>qe([this.extensionTypesService.getControllerServiceTypes(),this.extensionTypesService.getReportingTaskTypes(),this.extensionTypesService.getRegistryClientTypes(),this.extensionTypesService.getParameterProviderTypes(),this.extensionTypesService.getFlowAnalysisRuleTypes()]).pipe(C(([e,n,o,s,a])=>Ec({response:{controllerServiceTypes:e.controllerServiceTypes,reportingTaskTypes:n.reportingTaskTypes,registryClientTypes:o.flowRegistryClientTypes,parameterProviderTypes:s.parameterProviderTypes,flowAnalysisRuleTypes:a.flowAnalysisRuleTypes}})),F(e=>_(pi({error:e}))))))),this.loadExtensionTypesForPolicies$=A(()=>this.actions$.pipe(E(xc),x(()=>qe([this.extensionTypesService.getProcessorTypes(),this.extensionTypesService.getControllerServiceTypes(),this.extensionTypesService.getReportingTaskTypes(),this.extensionTypesService.getParameterProviderTypes(),this.extensionTypesService.getFlowAnalysisRuleTypes()]).pipe(C(([e,n,o,s,a])=>Tc({response:{processorTypes:e.processorTypes,controllerServiceTypes:n.controllerServiceTypes,reportingTaskTypes:o.reportingTaskTypes,parameterProviderTypes:s.parameterProviderTypes,flowAnalysisRuleTypes:a.flowAnalysisRuleTypes}})),F(e=>_(pi({error:e}))))))),this.loadExtensionTypesForDocumentation$=A(()=>this.actions$.pipe(E(Ac),x(()=>qe([this.extensionTypesService.getProcessorTypes(),this.extensionTypesService.getControllerServiceTypes(),this.extensionTypesService.getReportingTaskTypes(),this.extensionTypesService.getRegistryClientTypes(),this.extensionTypesService.getParameterProviderTypes(),this.extensionTypesService.getFlowAnalysisRuleTypes()]).pipe(C(([e,n,o,s,a,c])=>wc({response:{processorTypes:e.processorTypes,controllerServiceTypes:n.controllerServiceTypes,reportingTaskTypes:o.reportingTaskTypes,registryClientTypes:s.flowRegistryClientTypes,parameterProviderTypes:a.parameterProviderTypes,flowAnalysisRuleTypes:c.flowAnalysisRuleTypes}})),F(e=>_(pi({error:e}))))))),this.extensionTypesApiError$=A(()=>this.actions$.pipe(E(pi),C(e=>e.error),x(e=>_(yt({error:this.errorHelper.getErrorString(e,"Failed to load extension types. You may not be able to create new Processors, Controller Services, Reporting Tasks, Parameter Providers, or Flow Analysis Rules.")})))))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var jd=(r,t)=>{let i=d(Z);return t(r).pipe(F(e=>{if(e instanceof An&&e.status===0)return i.dispatch(In()),i.dispatch(Dm()),i.dispatch(ir()),i.dispatch(te({errorDetail:{title:"Unable to communicate with NiFi",message:"Please ensure the application is running and check the logs for any errors."}})),yn;throw e}))};var zd=(()=>{let t=class t{constructor(){this.httpClient=d(Ot)}getAbout(){return this.httpClient.get(`${t.API}/flow/about`)}};t.API="../nifi-api",t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function Ph(r,t){if(r&1&&(m(0,"div",9),f(1),l()),r&2){let i=T();u(),ft(i.buildTimestamp)}}function Oh(r,t){if(r&1&&(m(0,"div",9),f(1),l()),r&2){let i=T();u(),q("Tagged ",i.buildTag)}}function Nh(r,t){if(r&1&&(m(0,"div",9),f(1),l()),r&2){let i=T();u(),ri("From ",i.buildRevision," on branch ",i.buildBranch)}}function Rh(r,t){if(r&1&&(m(0,"div",5),H(1,"img",6),l(),m(2,"div",7)(3,"div",8),f(4),l(),L(5,Ph,2,1,"div",9),L(6,Oh,2,1,"div",9),L(7,Nh,2,2,"div",9),l(),m(8,"div"),f(9," Apache NiFi is a framework to support highly scalable and flexible dataflows. It can be run on laptops up through clusters of enterprise class servers. Instead of dictating a particular dataflow or behavior it empowers you to design your own optimal dataflow tailored to your specific environment. "),l()),r&2){let i=t;u(4),ft(i.version),u(),V(i.buildTimestamp?5:-1),u(),V(i.buildTag&&i.buildTag!=="HEAD"?6:-1),u(),V(i.buildRevision?7:-1)}}var Ud=(()=>{let t=class t extends ue{constructor(){super(...arguments),this.store=d(Z),this.about$=this.store.select(qc)}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=_n(t)))(o||t)}})(),t.\u0275cmp=it({type:t,selectors:[["about"]],features:[Bt],decls:10,vars:3,consts:[[1,"about-dialog"],["mat-dialog-title",""],[1,"flex","flex-col","justify-between","gap-y-5"],["align","end"],["mat-button","","mat-dialog-close",""],[1,"flex","justify-center"],["ngSrc","assets/icons/nifi-logo-about.svg","priority","","width","300","height","128","alt","NiFi Logo"],[1,"flex","flex-col","gap-y-1"],[1,"font-bold"],[1,"text-sm","ml-2"]],template:function(n,o){if(n&1&&(m(0,"div",0)(1,"h2",1),f(2,"About"),l(),m(3,"mat-dialog-content")(4,"div",2),L(5,Rh,10,4),xt(6,"async"),l()(),m(7,"mat-dialog-actions",3)(8,"button",4),f(9,"Close"),l()()()),n&2){let s;u(5),V((s=Tt(6,1,o.about$))?5:-1,s)}},dependencies:[ve,wt,de,jt,zt,Kt,Ut,jn,ur,ee,mi,Gn,Ia,Zt],styles:[".about-dialog[_ngcontent-%COMP%]{--mat-button-filled-container-height: 32px;--mat-button-filled-touch-target-display: block;--mat-button-outlined-container-height: 32px;--mat-button-outlined-touch-target-display: block;--mat-button-protected-container-height: 32px;--mat-button-protected-touch-target-display: block;--mat-button-text-container-height: 32px;--mat-button-text-touch-target-display: block;--mat-button-tonal-container-height: 32px;--mat-button-tonal-touch-target-display: block}"]});let r=t;return r})();var Kd=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.aboutService=d(zd),this.dialog=d(At),this.errorHelper=d(ht),this.loadAbout$=A(()=>this.actions$.pipe(E(tr),x(()=>K(this.aboutService.getAbout().pipe(C(e=>er({response:e})),F(e=>_(yt({error:this.errorHelper.getErrorString(e)})))))))),this.openAboutDialog$=A(()=>this.actions$.pipe(E(Lc),tt(()=>{this.dialog.open(Ud,w(y({},He),{autoFocus:!1}))})),{dispatch:!1})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var io=(()=>{let t=class t{constructor(){this.httpClient=d(Ot),this.client=d(ui)}getComponentStatusHistory(e,n){let o;switch(e){case $i.Processor:o="processors";break;case $i.ProcessGroup:o="process-groups";break;case $i.Connection:o="connections";break;case $i.RemoteProcessGroup:o="remote-process-groups";break;default:o="processors"}return this.httpClient.get(`${t.API}/flow/${o}/${encodeURIComponent(n)}/status/history`)}getNodeStatusHistory(){return this.httpClient.get(`${t.API}/controller/status/history`)}};t.API="../nifi-api",t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Us=Dn(to),no=Jt(Us,r=>r.statusHistory),qd=Jt(no,r=>r.statusHistory?.componentDetails),Gd=Jt(no,r=>r.statusHistory?.fieldDescriptors);var le={nifiInstanceId:"nifi-instance-id",nifiInstanceLabel:"NiFi"};var Qd=(()=>{let t=class t{set instances(e){this._instances=e,this._selectedDescriptor&&this.updateChart(this._selectedDescriptor)}get instances(){return this._instances}set selectedFieldDescriptor(e){this._selectedDescriptor!==e&&(this.brushSelection=null,this._selectedDescriptor=e,e&&this.updateChart(e))}get selectedFieldDescriptor(){return this._selectedDescriptor}set visibleInstances(e){this._visibleInstances=e,this._selectedDescriptor&&this.updateChart(this._selectedDescriptor)}get visibleInstances(){return this._visibleInstances}constructor(){this.nifiCommon=d(vt),this._selectedDescriptor=null,this._visibleInstances={},this.nodeStats=new Xt,this.clusterStats=new Xt,this.nodeStats$=new ce,this.clusterStats$=new ce,this.nodes=[],this.formatters={DURATION:e=>this.nifiCommon.formatDuration(e),COUNT:e=>e%1===0?this.nifiCommon.formatInteger(e):this.nifiCommon.formatFloat(e),DATA_SIZE:e=>this.nifiCommon.formatDataSize(e),FRACTION:e=>this.nifiCommon.formatFloat(e/1e6)},this.yAxisFormatters={DURATION:e=>this.nifiCommon.formatDuration(e),COUNT:e=>e%1===0?this.nifiCommon.formatInteger(e,!0):this.nifiCommon.formatFloat(e),DATA_SIZE:e=>this.nifiCommon.formatDataSize(e),FRACTION:e=>this.nifiCommon.formatFloat(e/1e6)},this.brushSelection=null,this.nodeStats$.pipe(Ge(20),Ft()).subscribe(e=>{this.nodeStats.next(e)}),this.clusterStats$.pipe(Ge(20),Ft()).subscribe(e=>{this.clusterStats.next(e)})}updateChart(e){let n={top:15,right:20,bottom:25,left:80},o=vm(Cm),s=this.instances.map(v=>v.label);o.domain(s);let a=this.instances.map(v=>({id:v.id,label:v.label,values:v.snapshots.map(B=>({timestamp:B.timestamp,value:B.statusMetrics[e.field]})),visible:this._visibleInstances[v.id]})),c=v=>v.getMilliseconds()?ze(":%S.%L")(v):v.getSeconds()?ze(":%S")(v):v.getMinutes()||v.getHours()?ze("%H:%M")(v):v.getDay()&&v.getDate()!==1?ze("%a %d")(v):v.getDate()!==1?ze("%b %d")(v):v.getMonth()?ze("%B")(v):ze("%Y")(v),p=document.getElementById("status-history-chart-container");p.replaceChildren();let g=p.clientWidth-n.left-n.right,h=p.clientHeight-n.top-n.bottom,M=qo().range([0,g]),I=jo(M).ticks(5).tickFormat(c),S=Ko().range([h,0]),b=zo(S).tickFormat(this.yAxisFormatters[e.formatter]),Y=Go().curve(Qo).x(v=>M(v.timestamp)).y(v=>S(v.value)),X=Ci("#status-history-chart-container").append("svg").attr("style","pointer-events: none;").attr("width",p.clientWidth).attr("height",p.clientHeight),nt=X.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",g).attr("height",h),at=X.append("g").attr("transform","translate("+n.left+", "+n.top+")"),$=Te(a,v=>Te(v.values,B=>B.timestamp)),lt=xe(a,v=>xe(v.values,B=>B.timestamp));M.domain([$,lt]),S.domain([this.getMinValue(a),this.getMaxValue(a)]),at.append("g").attr("class","x axis").attr("transform","translate(0, "+h+")").call(I),at.append("g").attr("class","y axis").call(b).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("text-anchor","end").text(e.label);let z=at.selectAll(".status").data(a).enter().append("g").attr("clip-path","url(#clip)").attr("class","status");z.append("path").attr("class",v=>"chart-line chart-line-"+v.id).attr("d",v=>Y(v.values)).attr("stroke",v=>o(v.label)).classed("hidden",v=>v.visible===!1).append("title").text(v=>v.label),z.each((v,B,Dt)=>{Ci(Dt[B]).append("g").attr("class",function(){return"mark-group mark-group-"+v.id}).classed("hidden",function(st){return st.visible===!1}).selectAll("circle.mark").data(v.values).enter().append("circle").attr("style","pointer-events: all;").attr("class","mark").attr("cx",st=>M(st.timestamp)).attr("cy",st=>S(st.value)).attr("fill",()=>o(v.label)).attr("r",1.5).append("title").text(st=>v.label+" -- "+this.formatters[e.formatter](st.value))});let ut=p.parentElement;ut&&X.attr("width",ut.clientWidth).attr("height",p.clientHeight),nt.attr("width",g).attr("height",h),at.select(".x.axis").attr("transform","translate(0, "+h+")");let ot=document.getElementById("status-history-chart-control-container");ot.replaceChildren();let Vt=ot.clientHeight-n.top-n.bottom,Nt=qo().range([0,g]),fn=jo(Nt).ticks(5).tickFormat(c),Mt=Ko().range([Vt,0]),ki=zo(Mt).tickValues(S.domain()).tickFormat(this.yAxisFormatters[e.formatter]),hn=Go().curve(Qo).x(function(v){return Nt(v.timestamp)}).y(function(v){return Mt(v.value)}),D=Ci("#status-history-chart-control-container").append("svg").attr("width",p.clientWidth).attr("height",ot.clientHeight).append("g").attr("transform","translate("+n.left+", "+n.top+")");Nt.domain(M.domain()),Mt.domain(S.domain()),D.append("g").attr("class","x axis").attr("transform","translate(0, "+Vt+")").call(fn),D.append("g").attr("class","y axis").call(ki),D.selectAll(".status").data(a).enter().append("g").attr("class","status").append("path").attr("class",v=>"chart-line chart-line-"+v.id).attr("d",v=>hn(v.values)).attr("stroke",v=>o(v.label)).classed("hidden",v=>this.visibleInstances[v.id]===!1).append("title").text(function(v){return v.label});let R=()=>{let v=M.domain(),B=S.domain(),Dt=a.map(Et=>{let Iu=Et.values.filter(gn=>gn.timestamp>=v[0].getTime()&&gn.timestamp<=v[1]&&gn.value>=B[0]&&gn.value<=B[1]);return w(y({},Et),{values:Iu})}),kt=Dt.filter(Et=>Et.id!==le.nifiInstanceId&&Et.visible&&Et.values.length>0),st=kt.length===0?"NA":this.formatters[e.formatter](this.getMinValue(kt)),we=kt.length===0?"NA":this.formatters[e.formatter](this.getMeanValue(kt)),$t=kt.length===0?"NA":this.formatters[e.formatter](this.getMaxValue(kt));this.nodeStats$.next({min:st,max:$t,mean:we,nodes:kt.map(Et=>({id:Et.id,label:Et.label,color:o(Et.label)}))});let Yt=Dt.filter(Et=>Et.id===le.nifiInstanceId&&Et.visible&&Et.values.length>0),Ii=Yt.length===0?"NA":this.formatters[e.formatter](this.getMinValue(Yt)),Du=Yt.length===0?"NA":this.formatters[e.formatter](this.getMeanValue(Yt)),ku=Yt.length===0?"NA":this.formatters[e.formatter](this.getMaxValue(Yt));this.clusterStats$.next({min:Ii,max:ku,mean:Du,nodes:Yt.map(Et=>({id:Et.id,label:Et.label,color:o(Et.label)}))})},J=(v,B)=>{M.domain(v),S.domain(B),z.selectAll(".chart-line").attr("d",Dt=>Y(Dt.values)),z.selectAll("circle.mark").attr("cx",Dt=>M(Dt.timestamp)).attr("cy",Dt=>S(Dt.value)).attr("r",function(){return Uo(bt.node())===null?1.5:4}),at.select(".x.axis").call(I),at.select(".y.axis").call(b)},_t=()=>{this.brushSelection=Uo(bt.node());let v,B;if(this.brushSelection===null){let Dt=a.filter(kt=>kt.visible);Dt.length===0?B=Mt.domain():B=[Te(Dt,kt=>Te(kt.values,st=>st.value)),xe(Dt,kt=>xe(kt.values,st=>st.value))],v=Nt.domain()}else v=[this.brushSelection[0][0],this.brushSelection[1][0]].map(Nt.invert,Nt),B=[this.brushSelection[1][1],this.brushSelection[0][1]].map(Mt.invert,Mt);J(v,B),R()},Rt=_m().extent([[Nt.range()[0],Mt.range()[1]],[Nt.range()[1],Mt.range()[0]]]).on("brush",_t),bt=D.append("g").attr("class","brush").on("click",_t).call(Rt);this.brushSelection&&(Rt=Rt.move(bt,this.brushSelection)),D.select("rect.selection").attr("style","pointer-events: all;").on("dblclick",()=>{if(this.brushSelection!==null){let v=Mt.range();Rt.move(bt,[[this.brushSelection[0][0],v[1]],[this.brushSelection[1][0],v[0]]])}}),this.nodes=a.filter(v=>v.id!==le.nifiInstanceId).sort((v,B)=>v.label<B.label?-1:v.label>B.label?1:0),_t()}getMinValue(e){return Te(e,n=>Te(n.values,o=>o.value))}getMaxValue(e){return xe(e,n=>xe(n.values,o=>o.value))}getMeanValue(e){let n=0;return Ho(e,s=>(n+=s.values.length,Ho(s.values,a=>a.value)))/n}ngOnDestroy(){this.nodeStats$.complete(),this.clusterStats$.complete()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["status-history-chart"]],inputs:{instances:"instances",selectedFieldDescriptor:"selectedFieldDescriptor",visibleInstances:"visibleInstances"},outputs:{nodeStats:"nodeStats",clusterStats:"clusterStats"},decls:3,vars:0,consts:[["id","status-history-container",1,"flex-1","flex","flex-col","select-none"],["id","status-history-chart-container",1,"grow"],["id","status-history-chart-control-container"]],template:function(n,o){n&1&&(Sa(0,"div",0),va(1,"div",1)(2,"div",2),_a())},encapsulation:2});let r=t;return r})();var Wd=r=>({color:r}),Vh=(r,t)=>t.id;function $h(r,t){if(r&1){let i=pt();m(0,"button",15),U("click",function(){G(i);let n=T(3);return Q(n.maximize())}),H(1,"i",16),l()}}function Bh(r,t){if(r&1){let i=pt();m(0,"button",17),U("click",function(){G(i);let n=T(3);return Q(n.minimize())}),H(1,"i",18),l()}}function Hh(r,t){if(r&1&&L(0,$h,2,0,"button",13)(1,Bh,2,0,"button",14),r&2){let i=T(2);V(i.dialogMaximized?1:0)}}function jh(r,t){r&1&&(m(0,"div",8),H(1,"ngx-skeleton-loader",19),l())}function zh(r,t){if(r&1&&(m(0,"div",24)(1,"div"),f(2),l(),m(3,"div",36),f(4),l()()),r&2){let i=T().$implicit;u(2),ft(i.key),u(),k("title",i.value),u(),q(" ",i.value," ")}}function Uh(r,t){if(r&1&&L(0,zh,5,3,"div",24),r&2){let i=t.$implicit;V(i.key&&i.value?0:-1)}}function Kh(r,t){if(r&1&&(m(0,"mat-option",28)(1,"div",37)(2,"div",38),f(3),l(),m(4,"div",39),f(5),l()()()),r&2){let i=t.$implicit;k("value",i.value),u(3),q(" ",i.label," "),u(2),q(" ",i.formattedDate," ")}}function qh(r,t){if(r&1){let i=pt();m(0,"div",45)(1,"mat-label",31),f(2),l(),m(3,"mat-checkbox",46),U("change",function(n){G(i);let o=T(7);return Q(o.selectNode(n))}),l()()}if(r&2){let i=T().$implicit,e=T(6);u(),k("ngStyle",Li(4,Wd,e.getColor(e.nodeStats,i.id))),u(),q("",i.label," "),u(),k("value",i.id)("checked",!!e.instanceVisibility[i.id])}}function Gh(r,t){if(r&1&&L(0,qh,4,6,"div",45),r&2){let i=t.$implicit;V(i.snapshots!=null&&i.snapshots.length?0:-1)}}function Qh(r,t){if(r&1){let i=pt();m(0,"div",24)(1,"div",40)(2,"mat-label",41),f(3,"Nodes "),l(),m(4,"mat-checkbox",42),U("change",function(n){G(i);let o=T(5);return Q(o.selectAllNodesChanged(n))}),l()(),m(5,"div",43)(6,"div"),f(7,"Min / Max / Mean"),l(),m(8,"div",25),f(9),l()(),m(10,"div",44),Me(11,Gh,1,1,null,null,Vh),l()()}if(r&2){let i=T(5);u(4),k("checked",i.areAllNodesSelected(i.instanceVisibility))("indeterminate",i.areAnyNodesSelected(i.instanceVisibility)),u(5),Qe(" ",i.nodeStats.min," / ",i.nodeStats.max," / ",i.nodeStats.mean," "),u(2),De(i.nodes)}}function Wh(r,t){if(r&1&&(m(0,"mat-option",49)(1,"span",50),f(2),l()()),r&2){let i=T().$implicit,e=T(6);k("value",i)("tooltipComponentType",e.TextTip)("tooltipInputData",i.description)("delayClose",!1),u(2),ft(i.label)}}function Yh(r,t){if(r&1&&(m(0,"mat-option",28)(1,"span",50),f(2),l()()),r&2){let i=T().$implicit;k("value",i),u(2),ft(i.label)}}function Xh(r,t){if(r&1&&L(0,Wh,3,5,"mat-option",49)(1,Yh,3,2,"mat-option",28),r&2){let i=t.$implicit;V(i.description?0:1)}}function Zh(r,t){if(r&1&&(m(0,"div",34)(1,"mat-form-field",26)(2,"mat-label",47),f(3,"Metric"),l(),m(4,"mat-select",48),Me(5,Xh,2,1,null,null,Ve),l()()()),r&2){let i=T(5);u(5),De(i.fieldDescriptors)}}function Jh(r,t){if(r&1){let i=pt();m(0,"div",21)(1,"div",22)(2,"div",23),Me(3,Uh,1,1,null,null,Ve),m(5,"div",24)(6,"div"),f(7,"Start"),l(),m(8,"div",25)(9,"mat-form-field",26)(10,"mat-select",27),U("selectionChange",function(n){G(i);let o=T(4);return Q(o.startChanged(n.value))}),m(11,"mat-select-trigger"),f(12),l(),Me(13,Kh,6,3,"mat-option",28,Ve),l()()()(),m(15,"div",24)(16,"div"),f(17,"End"),l(),m(18,"div",25),f(19),l()(),m(20,"div",24)(21,"div",29)(22,"div"),f(23,"Min / Max / Mean"),l(),m(24,"div",25),f(25),l()(),m(26,"div",30)(27,"mat-label",31),f(28,"NiFi "),l(),m(29,"mat-checkbox",32),U("change",function(n){G(i);let o=T(4);return Q(o.selectNode(n))}),l()()(),L(30,Qh,13,5,"div",24),l()(),m(31,"div",33),L(32,Zh,7,0,"div",34),xt(33,"async"),m(34,"status-history-chart",35),U("nodeStats",function(n){G(i);let o=T(4);return Q(o.nodeStatsChanged(n))})("clusterStats",function(n){G(i);let o=T(4);return Q(o.clusterStatsChanged(n))}),l()()()}if(r&2){let i,e=T(4);u(3),De(e.details),u(9),q(" ",e.formatSelectedStartTime((i=e.statusHistoryForm.get("start"))==null?null:i.value)," "),u(),De(e.startTimeOptions),u(6),q(" ",e.formattedMaxDate," "),u(6),Qe(" ",e.clusterStats.min," / ",e.clusterStats.max," / ",e.clusterStats.mean," "),u(2),k("ngStyle",Li(14,Wd,e.getColor(e.nodeStats,e.NIFI_NODE_CONFIG.nifiInstanceId))),u(2),k("checked",!!e.instanceVisibility["nifi-instance-id"]),u(),V(e.nodes&&e.nodes.length>0?30:-1),u(2),V(Tt(33,12,e.fieldDescriptors$)?32:-1),u(2),k("instances",e.filteredInstances())("visibleInstances",e.instanceVisibility)("selectedFieldDescriptor",e.selectedDescriptor)}}function tg(r,t){if(r&1&&(L(0,Jh,35,16,"div",21),xt(1,"async")),r&2){let i,e=T(3);V((i=Tt(1,1,e.componentDetails$))?0:-1,i)}}function eg(r,t){r&1&&(m(0,"div",20),f(1," Insufficient history, please try again later. "),l())}function ig(r,t){if(r&1&&L(0,tg,2,3)(1,eg,2,0,"div",20),r&2){let i=T(2);V(i.instances.length>0&&i.fieldDescriptors.length>0?0:1)}}function ng(r,t){if(r&1){let i=pt();m(0,"div",11)(1,"button",51),U("click",function(){G(i);let n=T(2);return Q(n.refresh())}),H(2,"i",52),l(),m(3,"div"),f(4,"Last updated:"),l(),m(5,"div",25),f(6),l()()}if(r&2){let i=T();u(2),re("fa-spin",i.status==="loading"),u(4),q(" ",i.loadedTimestamp," ")}}function rg(r,t){if(r&1&&(m(0,"div",1)(1,"h2",2),f(2,"Status History"),l(),L(3,Hh,2,1),l(),H(4,"context-error-banner",3),m(5,"div",4)(6,"mat-dialog-content",5)(7,"form",6)(8,"div",7),L(9,jh,2,0,"div",8)(10,ig,2,1),l()()(),m(11,"mat-dialog-actions",9)(12,"div",10)(13,"div",8),L(14,ng,7,3,"div",11),l(),m(15,"div")(16,"button",12),f(17,"Close"),l()()()()()),r&2){let i=T();u(3),V(i.instances.length>0&&i.fieldDescriptors.length>0?3:-1),u(),k("context",i.ErrorContextKey.STATUS_HISTORY),u(3),k("formGroup",i.statusHistoryForm),u(2),V(i.isInitialLoading(t)?9:10),u(5),V(i.instances.length>0&&i.fieldDescriptors.length>0?14:-1)}}var Yd=(()=>{let t=class t extends ue{constructor(){super(),this.statusHistoryService=d(io),this.store=d(Z),this.formBuilder=d(_e),this.nifiCommon=d(vt),this.dialogRequest=d(li),this.statusHistoryState$=this.store.select(Us),this.componentDetails$=this.store.select(qd),this.statusHistory$=this.store.select(no),this.fieldDescriptors$=this.store.select(Gd),this.fieldDescriptors=[],this.dialogMaximized=!1,this.details=[],this.formattedMinDate="",this.formattedMaxDate="",this.minDate=0,this.maxDate=0,this.nodeStats={max:"NA",min:"NA",mean:"NA",nodes:[]},this.clusterStats={max:"NA",min:"NA",mean:"NA",nodes:[]},this.nodes=[],this.instances=[],this.filteredInstances=ma([]),this.startTimeOptions=[],this.instanceVisibility={},this.selectedDescriptor=null,this.destroyRef=d(ii),this.Object=Object,this.TextTip=be,this.fiveMinutes=5*vt.MILLIS_PER_MINUTE,this.tenMinutes=10*vt.MILLIS_PER_MINUTE,this.thirtyMinutes=30*vt.MILLIS_PER_MINUTE,this.sixtyMinutes=vt.MILLIS_PER_HOUR,this.NIFI_NODE_CONFIG=le,this.ErrorContextKey=Ht;let e=this.dialogRequest;this.request=e,this.statusHistoryForm=this.formBuilder.group({fieldDescriptor:"",start:new Ie(0,Un.required)})}ngOnInit(){this.statusHistory$.pipe(mt(e=>!!e),Ft(this.destroyRef)).subscribe(e=>{if(e){this.instances=[],e.statusHistory?.aggregateSnapshots?.length>1&&(this.instances.push({id:le.nifiInstanceId,label:le.nifiInstanceLabel,snapshots:e.statusHistory.aggregateSnapshots}),this.instanceVisibility[le.nifiInstanceId]===void 0&&(this.instanceVisibility[le.nifiInstanceId]=!0)),e.statusHistory?.nodeSnapshots&&e.statusHistory?.nodeSnapshots.length>1&&e.statusHistory.nodeSnapshots.forEach(s=>{this.instances.push({id:s.nodeId,label:`${s.address}:${s.apiPort}`,snapshots:s.statusSnapshots}),this.instanceVisibility[s.nodeId]===void 0&&(this.instanceVisibility[s.nodeId]=!0)}),this.nodes=this.instances.filter(s=>s.id!==le.nifiInstanceId).sort((s,a)=>s.label<a.label?-1:s.label>a.label?1:0);let n=Te(this.instances,s=>Te(s.snapshots,a=>a.timestamp)),o=xe(this.instances,s=>xe(s.snapshots,a=>a.timestamp));this.formattedMinDate=this.nifiCommon.formatDateTime(new Date(n)),this.formattedMaxDate=this.nifiCommon.formatDateTime(new Date(o)),this.minDate=n,this.maxDate=o,this.updateStartTimeOptions()}}),this.fieldDescriptors$.pipe(mt(e=>!!e),It(1)).subscribe(e=>{this.fieldDescriptors=e,this.statusHistoryForm.get("fieldDescriptor")?.setValue(e[0]),this.selectedDescriptor=e[0]}),this.componentDetails$.pipe(rt(),It(1)).subscribe(e=>{this.details=Object.entries(e).map(n=>({key:n[0],value:n[1]}))})}ngAfterViewInit(){this.statusHistoryForm.get("fieldDescriptor")?.valueChanges.pipe(Ft(this.destroyRef)).subscribe(e=>{this.instances.length>0&&(this.selectedDescriptor=e)})}maximize(){this.dialogMaximized=!0,this.resized()}minimize(){this.dialogMaximized=!1,this.resized()}isInitialLoading(e){return e.loadedTimestamp===mn.loadedTimestamp}refresh(){this.store.dispatch(We({request:this.request}))}clusterStatsChanged(e){this.clusterStats=e}nodeStatsChanged(e){this.nodeStats=e}areAllNodesSelected(e){return Object.entries(e).filter(([o,s])=>o!=="nifi-instance-id"&&!s).map(([,o])=>o).length===0}areAnyNodesSelected(e){let n=Object.entries(e).filter(([o,s])=>o!=="nifi-instance-id"&&s).map(([,o])=>o);return n.length>0&&n.length<this.nodes.length}selectAllNodesChanged(e){let n=e.checked,o={};this.nodes.forEach(s=>{o[s.id]=n}),o["nifi-instance-id"]=this.instanceVisibility["nifi-instance-id"],this.instanceVisibility=o}selectNode(e){let n=e.source.value,o=e.checked,s=Sm("path.chart-line-"+n),a=Ci("g.mark-group-"+n),c=a.classed("hidden");s.classed("hidden",()=>!c),a.classed("hidden",()=>!c),this.instanceVisibility=w(y({},this.instanceVisibility),{[n]:o})}resized(){this.selectedDescriptor&&(this.selectedDescriptor=y({},this.selectedDescriptor))}windowResized(){this.dialogMaximized&&this.resized()}getColor(e,n){if(e.nodes&&e.nodes.length>0){let o=e.nodes?.find(s=>s.id===n);if(o)return o.color}return"unset neutral-color"}startChanged(e){if(e===0)this.filteredInstances.set(this.instances);else{let n=this.instances.map(o=>{let s=o.snapshots.filter(a=>a.timestamp>=this.maxDate-e);return{id:o.id,label:o.label,snapshots:s}});this.filteredInstances.set(n.filter(o=>o.snapshots.length>0))}}formatSelectedStartTime(e){let n=this.startTimeOptions.find(o=>o.value===e);return n?n.label:this.startTimeOptions[0].label}updateStartTimeOptions(){let e=this.statusHistoryForm.get("start")?.value,n=[{label:"All",value:0,formattedDate:this.formattedMinDate}],o=this.maxDate-this.minDate;o>this.fiveMinutes&&n.push({label:"Last 5 minutes",value:this.fiveMinutes,formattedDate:this.nifiCommon.formatDateTime(new Date(this.maxDate-this.fiveMinutes))}),o>this.tenMinutes&&n.push({label:"Last 10 minutes",value:this.tenMinutes,formattedDate:this.nifiCommon.formatDateTime(new Date(this.maxDate-this.tenMinutes))}),o>this.thirtyMinutes&&n.push({label:"Last 30 minutes",value:this.thirtyMinutes,formattedDate:this.nifiCommon.formatDateTime(new Date(this.maxDate-this.thirtyMinutes))}),o>this.sixtyMinutes&&n.push({label:"Last hour",value:this.sixtyMinutes,formattedDate:this.nifiCommon.formatDateTime(new Date(this.maxDate-this.sixtyMinutes))}),this.startTimeOptions=n,this.startChanged(e)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["status-history"]],hostBindings:function(n,o){n&1&&U("resize",function(a){return o.windowResized(a.target)},da)},features:[Bt],decls:3,vars:7,consts:[[1,"flex","flex-col","status-history-container"],[1,"flex","justify-between"],["mat-dialog-title",""],[3,"context"],[1,"status-history","flex","flex-col","grow"],[1,"grow","flex","flex-1"],[1,"flex","flex-1","h-full",3,"formGroup"],[1,"status-history-dialog-content","flex","w-full","flex-1"],[1,"flex-1"],["align","start"],[1,"flex","w-full"],[1,"text-sm","flex","items-center","gap-x-2"],["mat-button","","mat-dialog-close",""],["mat-icon-button","","title","Maximize dialog size",1,"primary-icon-button","mt-2","mr-2"],["mat-icon-button","","title","Restore default dialog size",1,"primary-icon-button","mt-2","mr-2"],["mat-icon-button","","title","Maximize dialog size",1,"primary-icon-button","mt-2","mr-2",3,"click"],[1,"fa","fa-window-maximize"],["mat-icon-button","","title","Restore default dialog size",1,"primary-icon-button","mt-2","mr-2",3,"click"],[1,"fa","fa-window-minimize"],["count","3"],[1,"grow","flex","items-center","justify-center"],[1,"flex","flex-1","w-full","gap-x-4"],[1,"component-details-panel","relative","h-full"],[1,"component-details","flex","flex-col","gap-y-3","overflow-y-auto","absolute","inset-0"],[1,"flex","flex-col"],[1,"tertiary-color","font-medium"],["subscriptSizing","dynamic"],["formControlName","start",3,"selectionChange"],[3,"value"],[1,"detail-item"],[1,"legend-entry","flex","justify-between","items-center","mr-1"],[3,"ngStyle"],["value","nifi-instance-id",3,"change","checked"],[1,"chart-panel","grow","flex","flex-col"],[1,"selected-descriptor-container","flex","flex-col"],[1,"flex","flex-1","flex-col",3,"nodeStats","clusterStats","instances","visibleInstances","selectedFieldDescriptor"],[1,"tertiary-color","overflow-ellipsis","overflow-hidden","whitespace-nowrap","font-medium",3,"title"],[1,"flex","flex-col","gap-y-1"],[1,"text-md"],[1,"text-sm","tertiary-color"],[1,"flex","justify-between","items-center","border-b","mr-1","pb-1.5"],[1,"font-bold","secondary-color"],[1,"tertiary-checkbox",3,"change","checked","indeterminate"],[1,"pt-1.5"],[1,"legend-entry","mr-1"],[1,"flex","justify-between","items-start"],[3,"change","value","checked"],[1,"value-label"],["formControlName","fieldDescriptor"],["nifiTooltip","",3,"value","tooltipComponentType","tooltipInputData","delayClose"],[1,"option-text"],["mat-icon-button","",1,"primary-icon-button",3,"click"],[1,"fa","fa-refresh"]],template:function(n,o){if(n&1&&(m(0,"div",0),L(1,rg,18,5),xt(2,"async"),l()),n&2){let s;re("maximized",o.dialogMaximized&&o.instances.length>0&&o.fieldDescriptors.length>0)("insufficient-history",!o.instances.length||!o.fieldDescriptors.length),u(),V((s=Tt(2,5,o.statusHistoryState$))?1:-1,s)}},dependencies:[de,jt,zt,Kt,Ut,ve,wt,ie,_c,Sc,ee,ge,fe,he,ye,Se,mi,ci,je,gc,fc,hc,uc,Ce,$l,Kn,Qd,Da,yi,Zt],styles:[`.status-history-container[_ngcontent-%COMP%]{position:relative;resize:both;height:732px;width:887px;min-height:732px;min-width:887px}.status-history-container.maximized[_ngcontent-%COMP%]{height:96vh;width:98vw}.status-history-container.insufficient-history[_ngcontent-%COMP%]{height:unset;width:unset;min-height:unset;min-width:unset}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]{--mat-button-filled-container-height: 32px;--mat-button-filled-touch-target-display: block;--mat-button-outlined-container-height: 32px;--mat-button-outlined-touch-target-display: block;--mat-button-protected-container-height: 32px;--mat-button-protected-touch-target-display: block;--mat-button-text-container-height: 32px;--mat-button-text-touch-target-display: block;--mat-button-tonal-container-height: 32px;--mat-button-tonal-touch-target-display: block}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]{max-height:unset}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .status-history-svg[_ngcontent-%COMP%]{pointer-events:none}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .chart-panel[_ngcontent-%COMP%]{min-width:495px}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .component-details-panel[_ngcontent-%COMP%], .status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .component-details[_ngcontent-%COMP%]{min-width:300px;max-width:300px}[_nghost-%COMP%]     #status-history-chart-container, [_nghost-%COMP%]     #status-history-chart-control-container{overflow:hidden;cursor:default}[_nghost-%COMP%]     #status-history-chart-container .axis path, [_nghost-%COMP%]     #status-history-chart-container .axis line, [_nghost-%COMP%]     #status-history-chart-control-container .axis path, [_nghost-%COMP%]     #status-history-chart-control-container .axis line{fill:none;shape-rendering:crispEdges}[_nghost-%COMP%]     #status-history-chart-container .chart-area, [_nghost-%COMP%]     #status-history-chart-control-container .chart-area{clip-path:url(#clip)}[_nghost-%COMP%]     #status-history-chart-container .chart-line, [_nghost-%COMP%]     #status-history-chart-control-container .chart-line{fill:none;stroke-width:1.5px}[_nghost-%COMP%]     #status-history-chart-container .chart-line.over, [_nghost-%COMP%]     #status-history-chart-control-container .chart-line.over{stroke-width:2.5px}[_nghost-%COMP%]     #status-history-chart-container .brush .selection, [_nghost-%COMP%]     #status-history-chart-control-container .brush .selection{fill-opacity:.125;shape-rendering:crispEdges}[_nghost-%COMP%]     #status-history-chart-container{height:372px;cursor:default;overflow:hidden}[_nghost-%COMP%]     #status-history-chart-control-container{height:125px;margin-top:5px;cursor:default;overflow:hidden}[_nghost-%COMP%]     #status-history-chart-container text, #status-history-chart-control-container[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:10px}[_nghost-%COMP%]     .mat-mdc-dialog-surface.mdc-dialog__surface{overflow:hidden!important}
















`]});let r=t;return r})();var Xd=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.store=d(Z),this.statusHistoryService=d(io),this.dialog=d(At),this.errorHelper=d(ht),this.reloadComponentStatusHistory$=A(()=>this.actions$.pipe(E(We),C(e=>e.request),mt(e=>!!e.componentId&&!!e.componentType),x(e=>K(this.statusHistoryService.getComponentStatusHistory(e.componentType,e.componentId).pipe(C(n=>Bi({response:{statusHistory:{canRead:n.canRead,statusHistory:n.statusHistory}}})),F(n=>this.bannerOrFullScreenError(n))))))),this.reloadNodeStatusHistory$=A(()=>this.actions$.pipe(E(We),C(e=>e.request),mt(e=>!e.componentId&&!e.componentType),x(()=>K(this.statusHistoryService.getNodeStatusHistory().pipe(C(e=>Bi({response:{statusHistory:{canRead:e.canRead,statusHistory:e.statusHistory}}})),F(e=>this.bannerOrFullScreenError(e))))))),this.getStatusHistoryAndOpenDialog$=A(()=>this.actions$.pipe(E(Wn),C(e=>e.request),x(e=>K(this.statusHistoryService.getComponentStatusHistory(e.componentType,e.componentId).pipe(C(n=>di({request:e,response:{statusHistory:{canRead:n.canRead,statusHistory:n.statusHistory}}})),F(n=>this.snackBarOrFullScreenError(n))))))),this.getNodeStatusHistoryAndOpenDialog$=A(()=>this.actions$.pipe(E(Dc),C(e=>e.request),x(e=>K(this.statusHistoryService.getNodeStatusHistory().pipe(C(n=>di({request:e,response:{statusHistory:{canRead:n.canRead,statusHistory:n.statusHistory}}})),F(n=>this.snackBarOrFullScreenError(n))))))),this.loadStatusHistorySuccess$=A(()=>this.actions$.pipe(E(di),C(e=>e.request),x(e=>_(Do({request:e}))))),this.openStatusHistoryDialog$=A(()=>this.actions$.pipe(E(Do),C(e=>e.request),tt(e=>{this.dialog.open(Yd,{maxHeight:"unset",maxWidth:"unset",data:e,autoFocus:"dialog"}).afterClosed().subscribe(o=>{o!=="ROUTED"&&("componentType"in e?this.store.dispatch(Yn({request:{source:e.source,componentType:e.componentType,componentId:e.componentId}})):this.store.dispatch(Xn({request:{source:e.source}})))})})),{dispatch:!1}),this.statusHistoryBannerError$=A(()=>this.actions$.pipe(E(Hi),C(e=>e.error),x(e=>_(ke({errorContext:{errors:[e],context:Ht.STATUS_HISTORY}})))))}bannerOrFullScreenError(e){if(this.errorHelper.showErrorInContext(e.status)){let n=this.errorHelper.getErrorString(e,"Failed to reload Status History.");return _(Hi({error:n}))}else return _(this.errorHelper.fullScreenError(e))}snackBarOrFullScreenError(e){if(this.errorHelper.showErrorInContext(e.status)){let n=this.errorHelper.getErrorString(e,"Failed to load Status History.");return _(yt({error:n}))}else return _(this.errorHelper.fullScreenError(e))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var Zd=(()=>{let t=class t{constructor(){this.httpClient=d(Ot),this.nifiCommon=d(vt),this.client=d(ui),this.clusterConnectionService=d(tm)}getControllerService(e){let n={uiOnly:!0};return this.httpClient.get(`${t.API}/controller-services/${e}`,{params:n})}setEnable(e,n){return this.httpClient.put(`${t.API}/controller-services/${e.id}/run-status`,{revision:this.client.getRevision(e),disconnectedNodeAcknowledged:this.clusterConnectionService.isDisconnectionAcknowledged(),state:n?"ENABLED":"DISABLED",uiOnly:!0})}updateReferencingServices(e,n){let o={};return this.getReferencingComponentRevisions(e.component.referencingComponents,o,!0),this.httpClient.put(`${t.API}/controller-services/${e.id}/references`,{id:e.id,state:n?"ENABLED":"DISABLED",referencingComponentRevisions:o,disconnectedNodeAcknowledged:this.clusterConnectionService.isDisconnectionAcknowledged(),uiOnly:!0})}updateReferencingSchedulableComponents(e,n){let o={};return this.getReferencingComponentRevisions(e.component.referencingComponents,o,!1),this.httpClient.put(`${t.API}/controller-services/${e.id}/references`,{id:e.id,state:n?"RUNNING":"STOPPED",referencingComponentRevisions:o,disconnectedNodeAcknowledged:this.clusterConnectionService.isDisconnectionAcknowledged(),uiOnly:!0})}getReferencingComponentRevisions(e,n,o){this.nifiCommon.isEmpty(e)||e.forEach(s=>{let a=s.component;o?a.referenceType==="ControllerService"&&(n[a.id]=this.client.getRevision(s)):(a.referenceType==="Processor"||a.referenceType==="ReportingTask")&&(n[a.id]=this.client.getRevision(s)),this.getReferencingComponentRevisions(a.referencingComponents,n,o)})}};t.API="../nifi-api",t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Jd=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.store=d(Z),this.dialog=d(At),this.controllerServiceStateService=d(Zd),this.errorHelper=d(ht),this.submitEnableRequest$=A(()=>this.actions$.pipe(E(fr),C(e=>e.request),gt(()=>this.store.select(Xe).pipe(rt())),x(([e,n])=>e.scope==="SERVICE_AND_REFERENCING_COMPONENTS"&&this.hasUnauthorizedReferences(n.component.referencingComponents)?_(Ee({response:{step:ct.EnableService,error:"Unable to enable due to unauthorized referencing components."}})):_(gr())))),this.submitDisableRequest$=A(()=>this.actions$.pipe(E(hr),gt(()=>this.store.select(Xe).pipe(rt())),x(([,e])=>this.hasUnauthorizedReferences(e.component.referencingComponents)?_(Ee({response:{step:ct.StopReferencingComponents,error:"Unable to disable due to unauthorized referencing components."}})):_(Sr())))),this.setEnableControllerService$=A(()=>this.actions$.pipe(E(gr),gt(()=>[this.store.select(Xe).pipe(rt()),this.store.select(Wi)]),x(([,e,n])=>K(this.controllerServiceStateService.setEnable(e,n.enable)).pipe(C(o=>qi({response:{controllerService:o,currentStep:n.currentStep}})),F(o=>_(Ee({response:{step:n.currentStep,error:this.errorHelper.getErrorString(o)}}))))))),this.setEnableControllerServiceSuccess$=A(()=>this.actions$.pipe(E(qi),C(e=>e.response),mt(e=>e.currentStep!==ct.DisableService),x(()=>_(_r())))),this.startPollingControllerService$=A(()=>this.actions$.pipe(E(_r),x(()=>Fe(2e3,Re).pipe(Ct(this.actions$.pipe(E(vr))))),x(()=>_(Fo())))),this.pollControllerService$=A(()=>this.actions$.pipe(E(Fo),gt(()=>[this.store.select(Xe).pipe(rt()),this.store.select(Wi)]),x(([,e,n])=>K(this.controllerServiceStateService.getControllerService(e.id)).pipe(C(o=>Qi({response:{controllerService:o,currentStep:this.getNextStep(n,e)},previousStep:n.currentStep})),F(o=>_(Ee({response:{step:n.currentStep,error:this.errorHelper.getErrorString(o)}}))))))),this.setEnableStepComplete$=A(()=>this.actions$.pipe(E(Qi),mt(e=>{let n=e.response,o=e.previousStep;return n.currentStep!==o}),x(e=>{switch(e.response.currentStep){case ct.DisableReferencingServices:case ct.EnableReferencingServices:return _(Ro());case ct.DisableService:case ct.EnableService:return _(gr());case ct.StopReferencingComponents:case ct.StartReferencingComponents:return _(Sr());case ct.Completed:default:return _(vr())}}))),this.updateReferencingServices$=A(()=>this.actions$.pipe(E(Ro),gt(()=>[this.store.select(Xe),this.store.select(Wi)]),x(([,e,n])=>e?K(this.controllerServiceStateService.updateReferencingServices(e,n.enable)).pipe(C(o=>yr({response:{referencingComponents:o.controllerServiceReferencingComponents,currentStep:n.currentStep}})),F(o=>_(Ee({response:{step:n.currentStep,error:this.errorHelper.getErrorString(o)}})))):_(Cr({title:"Enable Service",message:"Controller Service not initialized"}))))),this.updateReferencingComponents$=A(()=>this.actions$.pipe(E(Sr),gt(()=>[this.store.select(Xe),this.store.select(Wi)]),x(([,e,n])=>e?K(this.controllerServiceStateService.updateReferencingSchedulableComponents(e,n.enable)).pipe(C(o=>Gi({response:{referencingComponents:o.controllerServiceReferencingComponents,currentStep:n.currentStep}})),F(o=>_(Ee({response:{step:n.currentStep,error:this.errorHelper.getErrorString(o)}})))):_(Cr({title:"Enable Service",message:"Controller Service not initialized"}))))),this.updateReferencingComponentsSuccess$=A(()=>this.actions$.pipe(E(Gi),C(e=>e.response),mt(e=>e.currentStep!==ct.StartReferencingComponents),x(()=>_(_r())))),this.setEnableStepFailure$=A(()=>this.actions$.pipe(E(Ee),x(()=>_(vr())))),this.showOkDialog$=A(()=>this.actions$.pipe(E(Cr),tt(e=>{this.dialog.open(Qn,w(y({},He),{data:{title:e.title,message:e.message}}))})),{dispatch:!1})}hasUnauthorizedReferences(e){if(e.length===0)return!1;if(e.some(s=>!s.permissions.canRead||!s.permissions.canWrite))return!0;let o=e.filter(s=>s.component.referenceType==="ControllerService");return o.length===0?!1:o.some(s=>this.hasUnauthorizedReferences(s.component.referencingComponents))}getNextStep(e,n){switch(e.currentStep){case ct.EnableService:return this.isServiceActionComplete(n,["ENABLED","ENABLING"])?e.scope==="SERVICE_ONLY"?ct.Completed:ct.EnableReferencingServices:e.currentStep;case ct.EnableReferencingServices:return this.isReferencingServicesActionComplete(n.component.referencingComponents,["ENABLED","ENABLING"])?ct.StartReferencingComponents:e.currentStep;case ct.StartReferencingComponents:return ct.Completed;case ct.StopReferencingComponents:return this.areReferencingComponentsStopped(n.component.referencingComponents)?ct.DisableReferencingServices:e.currentStep;case ct.DisableReferencingServices:return this.isReferencingServicesActionComplete(n.component.referencingComponents,["DISABLED"])?ct.DisableService:e.currentStep;case ct.DisableService:return this.isServiceActionComplete(n,["DISABLED"])?ct.Completed:e.currentStep;default:return e.currentStep}}isServiceActionComplete(e,n){return n.includes(e.status.runStatus)}isReferencingServicesActionComplete(e,n){let o=e.filter(s=>s.component.referenceType==="ControllerService");return o.length===0?!0:o.some(s=>{let a=n.includes(s.component.state);return a&&this.isReferencingServicesActionComplete(s.component.referencingComponents,n)})}areReferencingComponentsStopped(e){if(e.filter(a=>a.component.referenceType==="Processor"||a.component.referenceType==="ReportingTask").some(a=>{let c=a.component;return c.state==="RUNNING"||c.activeThreadCount&&c.activeThreadCount>0}))return!1;let s=e.filter(a=>a.component.referenceType==="ControllerService");return s.length===0?!0:s.some(a=>this.areReferencingComponentsStopped(a.component.referencingComponents))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var tu=(()=>{let t=class t{constructor(){this.httpClient=d(Ot),this.client=d(ui)}getSystemDiagnostics(e){if(e){let n={nodewise:!0};return this.httpClient.get(`${t.API}/system-diagnostics`,{params:n})}return this.httpClient.get(`${t.API}/system-diagnostics`)}};t.API="../nifi-api",t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function og(r,t){if(r&1&&(m(0,"div",10)(1,"div"),f(2),l(),m(3,"div",11),f(4),l()()),r&2){let i=t.$implicit;u(2),ft(i.name),u(2),ri(" ",i.collectionCount," times (",i.collectionTime,") ")}}function sg(r,t){if(r&1&&(m(0,"div",9),Me(1,og,5,3,"div",10,Ve),l()),r&2){let i=T(2);u(),De(i.sortedGarbageCollections)}}function ag(r,t){if(r&1&&(m(0,"div")(1,"div",18),f(2),l(),H(3,"mat-progress-bar",19),m(4,"div",11),f(5),l()()),r&2){let i=t.$implicit,e=T(2);u(2),q("Usage for ",i.identifier,":"),u(),k("value",e.getRepositoryStorageUsagePercent(i)),u(2),Qe(" ",i.utilization," (",i.usedSpace," of ",i.totalSpace,") ")}}function lg(r,t){if(r&1&&(m(0,"div")(1,"div",18),f(2),l(),H(3,"mat-progress-bar",19),m(4,"div",11),f(5),l()()),r&2){let i=t.$implicit,e=T(2);u(2),q("Usage for ",i.identifier,":"),u(),k("value",e.getRepositoryStorageUsagePercent(i)),u(2),Qe(" ",i.utilization," (",i.usedSpace," of ",i.totalSpace,") ")}}function cg(r,t){if(r&1){let i=pt();m(0,"h2",0),f(1,"System Diagnostics"),l(),H(2,"context-error-banner",1),m(3,"div",2)(4,"mat-tab-group",3),Aa("selectedIndexChange",function(n){G(i);let o=T();return Ta(o.selectedIndex,n)||(o.selectedIndex=n),Q(n)}),U("selectedIndexChange",function(n){G(i);let o=T();return Q(o.tabChanged(n))}),m(5,"mat-tab",4)(6,"mat-dialog-content")(7,"div",5)(8,"div",6)(9,"div",7)(10,"section")(11,"div",8),f(12),l(),m(13,"div",9)(14,"div",10)(15,"div"),f(16,"Max"),l(),m(17,"div",11),f(18),l()(),m(19,"div",10)(20,"div"),f(21,"Total"),l(),m(22,"div",11),f(23),l()(),m(24,"div",10)(25,"div"),f(26,"Used"),l(),m(27,"div",11),f(28),l()(),m(29,"div",10)(30,"div"),f(31,"Free"),l(),m(32,"div",11),f(33),l()()()(),m(34,"section")(35,"div",8),f(36,"Garbage Collection"),l(),L(37,sg,3,0,"div",9),l()(),m(38,"div",7)(39,"section")(40,"div",8),f(41,"Non Heap"),l(),m(42,"div",9)(43,"div",10)(44,"div"),f(45,"Max"),l(),m(46,"div",11),f(47),l()(),m(48,"div",10)(49,"div"),f(50,"Total"),l(),m(51,"div",11),f(52),l()(),m(53,"div",10)(54,"div"),f(55,"Used"),l(),m(56,"div",11),f(57),l()(),m(58,"div",10)(59,"div"),f(60,"Free"),l(),m(61,"div",11),f(62),l()()()(),m(63,"section")(64,"div",8),f(65,"Runtime"),l(),m(66,"div",9)(67,"div",10)(68,"div"),f(69,"Uptime"),l(),m(70,"div",11),f(71),l()()()()()()()()(),m(72,"mat-tab",12)(73,"mat-dialog-content")(74,"div",13)(75,"div",14)(76,"div",7)(77,"div",9)(78,"div",10)(79,"div"),f(80,"Available Cores"),l(),m(81,"div",11),f(82),l()()()(),m(83,"div",7)(84,"div",9)(85,"div",10)(86,"div",15)(87,"div"),f(88,"Core Load Average"),l(),H(89,"i",16),l(),m(90,"div",11),f(91),l()()()()(),m(92,"section",17)(93,"div",8),f(94,"FlowFile Repository Usage"),l(),m(95,"div")(96,"div",18),f(97,"Usage:"),l(),H(98,"mat-progress-bar",19),m(99,"div",11),f(100),l()()(),m(101,"section",17)(102,"div",8),f(103,"Content Repository Usage"),l(),m(104,"div",20),Me(105,ag,6,5,"div",null,Ve),l()(),m(107,"section",17)(108,"div",8),f(109,"Provenance Repository Usage"),l(),m(110,"div",20),Me(111,lg,6,5,"div",null,Ve),l()()()()(),m(113,"mat-tab",21)(114,"mat-dialog-content")(115,"div",5)(116,"div",22)(117,"section")(118,"div",8),f(119,"NiFi"),l(),m(120,"dl",23)(121,"dt",24),f(122,"NiFi Version"),l(),m(123,"dd"),f(124),l(),m(125,"dt",24),f(126,"Tag"),l(),m(127,"dd"),f(128),l(),m(129,"dt",24),f(130,"Build Date/Time"),l(),m(131,"dd"),f(132),l(),m(133,"dt",24),f(134,"Branch"),l(),m(135,"dd"),f(136),l(),m(137,"dt",24),f(138,"Revision"),l(),m(139,"dd"),f(140),l()()(),m(141,"section")(142,"div",8),f(143,"Java"),l(),m(144,"dl",23)(145,"dt",24),f(146,"Version"),l(),m(147,"dd"),f(148),l(),m(149,"dt",24),f(150,"Vendor"),l(),m(151,"dd"),f(152),l()()(),m(153,"section")(154,"div",8),f(155,"Operating System"),l(),m(156,"dl",23)(157,"dt",24),f(158,"Name"),l(),m(159,"dd"),f(160),l(),m(161,"dt",24),f(162,"Version"),l(),m(163,"dd"),f(164),l(),m(165,"dt",24),f(166,"Architecture"),l(),m(167,"dd"),f(168),l()()()()()()()(),m(169,"mat-dialog-actions")(170,"div",25)(171,"div",26)(172,"button",27),U("click",function(){G(i);let n=T();return Q(n.refreshSystemDiagnostics())}),H(173,"i",28),xt(174,"async"),l(),m(175,"div"),f(176,"Last updated:"),l(),m(177,"div",11),f(178),xt(179,"async"),l()(),m(180,"div")(181,"button",29),f(182,"Close"),l()()()()()}if(r&2){let i=t,e=T();u(2),k("context",e.ErrorContextKey.SYSTEM_DIAGNOSTICS),u(2),xa("selectedIndex",e.selectedIndex),u(8),q(" Heap (",i.heapUtilization,") "),u(6),q(" ",i.maxHeap," "),u(5),q(" ",i.totalHeap," "),u(5),q(" ",i.usedHeap," "),u(5),q(" ",i.freeHeap," "),u(4),V(e.sortedGarbageCollections?37:-1),u(10),q(" ",i.maxNonHeap," "),u(5),q(" ",i.totalNonHeap," "),u(5),q(" ",i.usedNonHeap," "),u(5),q(" ",i.freeNonHeap," "),u(9),q(" ",i.uptime," "),u(11),q(" ",i.availableProcessors," "),u(7),k("tooltipComponentType",e.TextTip),u(2),q(" ",e.formatFloat(i.processorLoadAverage)," "),u(7),k("value",e.getRepositoryStorageUsagePercent(i.flowFileRepositoryStorageUsage)),u(2),Qe(" ",i.flowFileRepositoryStorageUsage.utilization," (",i.flowFileRepositoryStorageUsage.usedSpace," of ",i.flowFileRepositoryStorageUsage.totalSpace,") "),u(5),De(i.contentRepositoryStorageUsage),u(6),De(i.provenanceRepositoryStorageUsage),u(13),ft(i.versionInfo.niFiVersion),u(4),ft(i.versionInfo.buildTag),u(4),ft(i.versionInfo.buildTimestamp),u(4),ft(i.versionInfo.buildBranch),u(4),ft(i.versionInfo.buildRevision),u(8),ft(i.versionInfo.javaVersion),u(4),ft(i.versionInfo.javaVendor),u(8),ft(i.versionInfo.osName),u(4),ft(i.versionInfo.osVersion),u(4),ft(i.versionInfo.osArchitecture),u(5),re("fa-spin",Tt(174,33,e.status$)==="loading"),u(5),ft(Tt(179,35,e.loadedTimestamp$))}}var eu=(()=>{let t=class t extends cm{constructor(){super(),this.store=d(Z),this.nifiCommon=d(vt),this.systemDiagnostics$=this.store.select(Tm),this.loadedTimestamp$=this.store.select(Am),this.status$=this.store.select(wm),this.sortedGarbageCollections=null,this.TextTip=be,this.ErrorContextKey=Ht}ngOnInit(){this.systemDiagnostics$.pipe(rt()).subscribe(e=>{let n=e.aggregateSnapshot.garbageCollection.slice();n.sort((o,s)=>this.nifiCommon.compareString(o.name,s.name)),this.sortedGarbageCollections=n})}refreshSystemDiagnostics(){this.store.dispatch(Zn({request:{nodewise:!1,errorStrategy:"banner"}}))}formatFloat(e){return this.nifiCommon.formatFloat(e)}getRepositoryStorageUsagePercent(e){return e.usedSpaceBytes/e.totalSpaceBytes*100}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["system-diagnostics-dialog"]],features:[En([{provide:lm,useValue:"system-diagnostics-selected-index"}]),Bt],decls:2,vars:3,consts:[["mat-dialog-title",""],[3,"context"],[1,"system-diagnostics"],[3,"selectedIndexChange","selectedIndex"],["label","JVM"],[1,"dialog-tab-content","w-full"],[1,"flex","gap-y-4"],[1,"flex","flex-col","flex-1","gap-y-4"],[1,"font-bold","primary-color"],[1,"flex","flex-col","gap-y-3"],[1,"flex","flex-col"],[1,"tertiary-color","font-medium"],["label","System"],[1,"dialog-tab-content","gap-y-6","w-full","flex","flex-col"],[1,"flex"],[1,"flex","gap-x-3","items-center"],["nifiTooltip","","tooltipInputData","Core load average for the last minute. Not available on all platforms.",1,"fa","fa-info-circle","primary-color",3,"tooltipComponentType"],[1,"flex","flex-col","pr-4"],[1,"capitalize"],["mode","determinate",3,"value"],[1,"repository-storage-container","flex","flex-col","gap-y-2"],["label","Version"],[1,"flex","flex-col","gap-y-4"],[1,"setting-attributes-list"],[1,"font-bold"],[1,"flex","flex-1","justify-between"],[1,"text-sm","flex","items-center","gap-x-2"],["mat-icon-button","",1,"primary-icon-button",3,"click"],[1,"fa","fa-refresh"],["mat-button","","mat-dialog-close",""]],template:function(n,o){if(n&1&&(L(0,cg,183,37),xt(1,"async")),n&2){let s;V((s=(s=Tt(1,1,o.systemDiagnostics$))==null?null:s.aggregateSnapshot)?0:-1,s)}},dependencies:[oi,Jc,Xc,Zc,de,jt,zt,Kt,Ut,ve,wt,ie,Ce,Vm,xr,yi,Zt],styles:[`.system-diagnostics[_ngcontent-%COMP%]{--mat-button-filled-container-height: 32px;--mat-button-filled-touch-target-display: block;--mat-button-outlined-container-height: 32px;--mat-button-outlined-touch-target-display: block;--mat-button-protected-container-height: 32px;--mat-button-protected-touch-target-display: block;--mat-button-text-container-height: 32px;--mat-button-text-touch-target-display: block;--mat-button-tonal-container-height: 32px;--mat-button-tonal-touch-target-display: block}.system-diagnostics[_ngcontent-%COMP%]   .setting-attributes-list[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{float:left;clear:left;padding:0 .5em .2em 0}.system-diagnostics[_ngcontent-%COMP%]   .setting-attributes-list[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{margin-left:9em;padding-bottom:.2em}
















`]});let r=t;return r})();var iu=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.store=d(Z),this.systemDiagnosticsService=d(tu),this.dialog=d(At),this.errorHelper=d(ht),this.reloadSystemDiagnostics$=A(()=>this.actions$.pipe(E(Zn),C(e=>e.request),x(e=>K(this.systemDiagnosticsService.getSystemDiagnostics(e.nodewise)).pipe(C(n=>Ic({response:{systemDiagnostics:n.systemDiagnostics}})),F(n=>{let o=this.errorHelper.getErrorString(n,"Failed to reload System Diagnostics.");return e.errorStrategy==="snackbar"?_(Jn({error:o})):_(Po({error:o}))}))))),this.getSystemDiagnosticsAndOpenDialog$=A(()=>this.actions$.pipe(E(Pc),C(e=>e.request),x(e=>K(this.systemDiagnosticsService.getSystemDiagnostics(e.nodewise)).pipe(C(n=>ko({response:{systemDiagnostics:n.systemDiagnostics}})),F(n=>_(Jn({error:this.errorHelper.getErrorString(n,"Failed to load System Diagnostics.")}))))))),this.loadSystemDiagnosticsSuccess$=A(()=>this.actions$.pipe(E(ko),x(()=>_(Io())))),this.openSystemDiagnosticsDialog$=A(()=>this.actions$.pipe(E(Io),tt(()=>{this.dialog.open(eu,y({},Al)).afterClosed().subscribe(()=>{this.store.dispatch(Oc())})})),{dispatch:!1}),this.systemDiagnosticsBannerError$=A(()=>this.actions$.pipe(E(Po),C(e=>e.error),x(e=>_(ke({errorContext:{errors:[e],context:Ht.SYSTEM_DIAGNOSTICS}}))))),this.systemDiagnosticsSnackbarError$=A(()=>this.actions$.pipe(E(Jn),C(e=>e.error),x(e=>_(yt({error:e})))))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var nu=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.flowConfigurationService=d(Em),this.errorHelper=d(ht),this.loadFlowConfiguration$=A(()=>this.actions$.pipe(E(Rc),x(()=>K(this.flowConfigurationService.getFlowConfiguration().pipe(C(e=>Fc({response:e})),F(e=>_(yt({error:this.errorHelper.getErrorString(e,"Failed to load Flow Configuration.")}))))))))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var ru=(()=>{let t=class t{constructor(){this.httpClient=d(Ot),this.nifiCommon=d(vt)}getComponentState(e){let n=this.nifiCommon.getComponentTypeApiPath(e.componentType);return this.httpClient.get(`${t.API}/${n}/${e.componentId}/state`)}clearComponentState(e){let n=this.nifiCommon.getComponentTypeApiPath(e.componentType);return this.httpClient.post(`${t.API}/${n}/${e.componentId}/state/clear-requests`,{})}clearComponentStateEntry(e,n,o){let s=this.nifiCommon.getComponentTypeApiPath(e);return this.httpClient.post(`${t.API}/${s}/${n}/state/clear-requests`,o)}};t.API="../nifi-api",t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Mi=Dn(eo),pn=Jt(Mi,r=>r.componentState),ou=Jt(Mi,r=>r.componentName),ro=Jt(Mi,r=>r.componentType),oo=Jt(Mi,r=>r.componentId),su=Jt(Mi,r=>r.canClear),au=Jt(Mi,r=>r.clearing),lu=Jt(pn,r=>r?.dropStateKeySupported??!1);var cu=()=>[];function mg(r,t){r&1&&(m(0,"div",4)(1,"div"),f(2,"Name"),l(),m(3,"div",5),f(4),l()()),r&2&&(u(4),ft(t))}function pg(r,t){r&1&&f(0," When clearing state this component supports deleting the entire state or individual entries. ")}function dg(r,t){r&1&&f(0," When clearing state this component only supports deleting the entire state. ")}function ug(r,t){r&1&&(m(0,"span"),f(1,"Clear state"),l())}function fg(r,t){if(r&1){let i=pt();m(0,"button",31),U("click",function(){G(i);let n=T();return Q(n.clearState())}),Qt(1,ug,2,0,"span",32),l()}if(r&2){T();let i=Ma(23);k("disabled",i),u(),k("nifiSpinner",i)}}function hg(r,t){r&1&&H(0,"tr",33)}function gg(r,t){r&1&&H(0,"tr",34)}function yg(r,t){r&1&&(m(0,"th",24),f(1," Scope "),l())}function Sg(r,t){r&1&&H(0,"th",25)}function _g(r,t){if(r&1&&(m(0,"td",37),f(1),l()),r&2){let i=T().$implicit;k("title",i.scope),u(),q(" ",i.scope," ")}}function vg(r,t){if(r&1){let i=pt();m(0,"td",38)(1,"button",39),U("click",function(){G(i);let n=T().$implicit,o=T();return Q(o.clearComponentStateEntry(n))}),H(2,"i",40),l()()}if(r&2){let i=T().$implicit,e=T();u(),k("disabled",e.clearing())("title","Clear state entry: "+i.key)}}function Cg(r,t){if(r&1&&(m(0,"tr",35)(1,"td",36),f(2),l(),m(3,"td",37),f(4),l(),L(5,_g,2,2,"td",37),L(6,vg,3,2,"td",38),l()),r&2){let i=t.$implicit,e=t.index,n=T();re("even",e%2===0)("odd",e%2!==0),u(2),ft(i.key),u(),k("title",i.value),u(),q(" ",i.value," "),u(),V(n.displayedColumns.includes("scope")?5:-1),u(),V(n.displayedColumns.includes("actions")?6:-1)}}function bg(r,t){r&1&&(m(0,"div",28),f(1,"Showing partial results"),l())}var mu=(()=>{let t=class t extends ue{constructor(){super(),this.store=d(Z),this.formBuilder=d(_e),this.nifiCommon=d(vt),this.initialSortColumn="key",this.initialSortDirection="asc",this.componentName$=this.store.select(ou).pipe(rt()),this.dropStateKeySupported$=this.store.select(lu),this.clearing=this.store.selectSignal(au),this.displayedColumns=["key","value"],this.dataSource=[],this.allStateItems=[],this.ROW_HEIGHT=36,this.currentSortColumn=this.initialSortColumn,this.currentSortDirection=this.initialSortDirection,this.stateDescription="",this.totalEntries=0,this.filteredEntries=0,this.partialResults=!1,this.canClear=!1,this.destroyRef=d(ii),this.ErrorContextKey=Ht,this.TextTip=be,this.filterForm=this.formBuilder.group({filterTerm:""}),this.store.select(pn).pipe(rt(),Ft()).subscribe(e=>{this.totalEntries=0,this.stateDescription=e.stateDescription;let n=[];if(e.localState){let a=this.processStateMap(e.localState,!1);n.push(...a)}if(e.clusterState){let a=this.processStateMap(e.clusterState,!0);n.push(...a)}let o=this.sortStateItems(n,{active:this.initialSortColumn,direction:this.initialSortDirection});this.allStateItems=o,this.dataSource=o,this.filteredEntries=n.length;let s=this.filterForm.get("filterTerm")?.value;s?.length>0&&this.applyFilter(s)}),this.store.select(Ui).pipe(rt(),Ft()).subscribe(e=>{if(e.connectedToCluster)this.displayedColumns.includes("scope")||this.displayedColumns.splice(this.displayedColumns.length,0,"scope");else{let n=this.displayedColumns.indexOf("scope");n>-1&&this.displayedColumns.splice(n,1)}}),this.dropStateKeySupported$.pipe(gt(()=>this.store.select(su).pipe(rt())),Ft()).subscribe(([e,n])=>{if(this.canClear=n,n&&e)this.displayedColumns.includes("actions")||this.displayedColumns.push("actions");else{let o=this.displayedColumns.indexOf("actions");o>-1&&this.displayedColumns.splice(o,1)}})}ngAfterViewInit(){this.filterForm.get("filterTerm")?.valueChanges.pipe(Ge(500),Ft(this.destroyRef)).subscribe(e=>{this.applyFilter(e)})}processStateMap(e,n){let o=e.state?e.state:[];return o.length!==e.totalEntryCount&&(this.partialResults=!0),this.totalEntries+=e.totalEntryCount,o.map(s=>({key:s.key,value:s.value,scope:n?"Cluster":s.clusterNodeAddress}))}applyFilter(e){let n=e.trim().toLowerCase();if(!n)this.dataSource=this.allStateItems,this.filteredEntries=this.allStateItems.length;else{let o=this.filterStateItems(n);this.dataSource=o,this.filteredEntries=o.length}}sortData(e){this.currentSortColumn=e.active,this.currentSortDirection=e.direction;let n=this.filterForm.get("filterTerm")?.value?.trim().toLowerCase(),o=this.allStateItems;n&&(o=this.filterStateItems(n));let s=this.sortStateItems(o,e);n||(this.allStateItems=s),this.dataSource=s,this.filteredEntries=s.length}filterStateItems(e){return this.allStateItems.filter(n=>n.key.toLowerCase().includes(e)||n.value.toLowerCase().includes(e)||n.scope&&n.scope.toLowerCase().includes(e))}sortStateItems(e,n){return e?e.slice().sort((o,s)=>{let a=n.direction==="asc",c=0;switch(n.active){case"key":c=this.nifiCommon.compareString(o.key,s.key);break;case"value":c=this.nifiCommon.compareString(o.value,s.value);break;case"scope":o.scope&&s.scope&&(c=this.nifiCommon.compareString(o.scope,s.scope));break}return c*(a?1:-1)}):[]}clearState(){this.store.dispatch(fi())}clearComponentStateEntry(e){let n=e.scope==="Cluster"?"CLUSTER":"LOCAL";this.store.dispatch(hi({request:{keyToDelete:e.key,scope:n}}))}trackByKey(e,n){return`${n.key}-${n.scope||"none"}`}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["component-state"]],inputs:{initialSortColumn:"initialSortColumn",initialSortDirection:"initialSortDirection"},features:[Bt],decls:57,vars:27,consts:[[1,"component-state-dialog"],["mat-dialog-title",""],[3,"context"],[1,"dialog-content","flex","flex-col","justify-between","gap-y-5"],[1,"flex","flex-col"],[1,"tertiary-color","font-medium"],["nifiTooltip","","tooltipInputData","In order to clear state this component must be stopped or disabled.",1,"fa","fa-info-circle",3,"tooltipComponentType"],[1,"flex","flex-1","flex-col"],[1,"flex","flex-col","my-2",3,"formGroup"],[1,"flex","justify-between","items-center"],["subscriptSizing","dynamic"],["matInput","","type","text","formControlName","filterTerm",1,"small"],["type","button","mat-button","",3,"disabled"],[1,"my-2","tertiary-color","leading-none","font-medium"],["mat-table","",1,"hidden"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"listing-table","flex-1","relative"],[1,"absolute","inset-0","table-container"],[1,"header-wrapper"],[1,"mat-mdc-table","mdc-data-table__table","cdk-table-virtual"],["matSort","","matSortDisableClear","",1,"mat-mdc-header-row","mdc-data-table__header-row",3,"matSortChange","matSortActive","matSortDirection"],["mat-sort-header","key",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],["mat-sort-header","value",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],["mat-sort-header","scope",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],[1,"mat-mdc-header-cell","mdc-data-table__header-cell","action-column"],[1,"table-body-viewport",3,"itemSize"],["class","mat-mdc-row mdc-data-table__row data-row",3,"even","odd",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"-mt-3"],["align","end"],["mat-button","","mat-dialog-close",""],["type","button","mat-button","",3,"click","disabled"],[4,"nifiSpinner"],["mat-header-row",""],["mat-row",""],[1,"mat-mdc-row","mdc-data-table__row","data-row"],[1,"mat-mdc-cell","mdc-data-table__cell"],[1,"mat-mdc-cell","mdc-data-table__cell",3,"title"],[1,"mat-mdc-cell","mdc-data-table__cell","action-column"],["mat-icon-button","","color","primary",3,"click","disabled","title"],[1,"fa","fa-trash"]],template:function(n,o){if(n&1){let s=pt();m(0,"div",0)(1,"h2",1),f(2,"Component State"),l(),H(3,"context-error-banner",2),m(4,"mat-dialog-content")(5,"div",3),L(6,mg,5,1,"div",4),xt(7,"async"),m(8,"div",4)(9,"div"),f(10,"Description"),l(),m(11,"div",5),f(12),l()(),uo(13),xt(14,"async"),m(15,"div",4)(16,"div"),f(17," State Deletion Policy "),H(18,"i",6),l(),m(19,"div",5),L(20,pg,1,0)(21,dg,1,0),l()(),m(22,"div",7),uo(23),m(24,"div")(25,"form",8)(26,"div",9)(27,"mat-form-field",10)(28,"mat-label"),f(29,"Filter"),l(),H(30,"input",11),l(),L(31,fg,2,2,"button",12),l()(),m(32,"div",13),f(33),l(),m(34,"table",14),Qt(35,hg,1,0,"tr",15)(36,gg,1,0,"tr",16),l()(),m(37,"div",17)(38,"div",18)(39,"div",19)(40,"table",20)(41,"thead")(42,"tr",21),U("matSortChange",function(c){return G(s),Q(o.sortData(c))}),m(43,"th",22),f(44," Key "),l(),m(45,"th",23),f(46," Value "),l(),L(47,yg,2,0,"th",24),L(48,Sg,1,0,"th",25),l()()()(),m(49,"cdk-virtual-scroll-viewport",26)(50,"table",20)(51,"tbody"),Qt(52,Cg,7,9,"tr",27),l()()()()()(),L(53,bg,2,0,"div",28),l()(),m(54,"mat-dialog-actions",29)(55,"button",30),f(56,"Close"),l()()()}if(n&2){let s;u(3),k("context",o.ErrorContextKey.COMPONENT_STATE),u(3),V((s=Tt(7,20,o.componentName$))?6:-1,s),u(6),q(" ",o.stateDescription," ");let a=Tt(14,22,o.dropStateKeySupported$);u(6),k("tooltipComponentType",o.TextTip),u(2),V(a?20:21),u(3),wa(o.clearing()),u(2),k("formGroup",o.filterForm),u(6),V(o.canClear&&o.totalEntries>0?31:-1),u(2),ri(" Displaying ",o.filteredEntries," of ",o.totalEntries," "),u(2),k("matHeaderRowDef",fo(25,cu))("matHeaderRowDefSticky",!0),u(),k("matRowDefColumns",fo(26,cu)),u(6),k("matSortActive",o.currentSortColumn)("matSortDirection",o.currentSortDirection),u(5),V(o.displayedColumns.includes("scope")?47:-1),u(),V(o.displayedColumns.includes("actions")?48:-1),u(),k("itemSize",o.ROW_HEIGHT),u(3),k("cdkVirtualForOf",o.dataSource)("cdkVirtualForTrackBy",o.trackByKey),u(),V(o.partialResults?53:-1)}},dependencies:[ve,wt,ie,de,jt,zt,Kt,Ut,ur,nm,rm,ee,ge,zn,fe,he,ye,Se,mi,ci,je,Gn,qn,yi,Ce,em,gl,ul,hl,fl,jn,Ln,Vn,$n,Bn,Hn,Zt],styles:[".component-state-dialog[_ngcontent-%COMP%]{--mat-button-filled-container-height: 32px;--mat-button-filled-touch-target-display: block;--mat-button-outlined-container-height: 32px;--mat-button-outlined-touch-target-display: block;--mat-button-protected-container-height: 32px;--mat-button-protected-touch-target-display: block;--mat-button-text-container-height: 32px;--mat-button-text-touch-target-display: block;--mat-button-tonal-container-height: 32px;--mat-button-tonal-touch-target-display: block}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]{--mat-table-header-container-height: 40px;--mat-table-footer-container-height: 36px;--mat-table-row-item-container-height: 36px}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{padding-right:15px;background-color:var(--mat-sys-secondary);border-bottom-width:1px;border-bottom-style:solid}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .cdk-table-virtual[_ngcontent-%COMP%]{width:100%;table-layout:fixed}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .cdk-table-virtual[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .cdk-table-virtual[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:40px}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .cdk-table-virtual[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:40px;color:var(--mat-sys-on-secondary);border-bottom-width:0}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .cdk-table-virtual[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:200px}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .cdk-table-virtual[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.action-column[_ngcontent-%COMP%]{width:52px}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .cdk-table-virtual[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .cdk-table-virtual[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .cdk-table-virtual[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:36px}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .cdk-table-virtual[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:200px}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .cdk-table-virtual[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.action-column[_ngcontent-%COMP%]{width:52px}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   .table-body-viewport[_ngcontent-%COMP%]{flex:1;overflow-y:scroll;overflow-x:hidden}"]});let r=t;return r})();var pu=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.store=d(Z),this.componentStateService=d(ru),this.dialog=d(At),this.errorHelper=d(ht),this.getComponentStateAndOpenDialog$=A(()=>this.actions$.pipe(E(cr),C(e=>e.request),x(e=>K(this.componentStateService.getComponentState({componentType:e.componentType,componentId:e.componentId}).pipe(C(n=>Ki({response:{componentState:n.componentState}})),F(n=>_(yt({error:this.errorHelper.getErrorString(n,`Failed to get the component state for ${e.componentName}.`)})))))))),this.loadComponentStateSuccess$=A(()=>this.actions$.pipe(E(Ki),C(e=>e.response),x(()=>_(Oo())))),this.openComponentStateDialog$=A(()=>this.actions$.pipe(E(Oo),tt(()=>{this.dialog.open(mu,w(y({},wl),{autoFocus:!1})).afterClosed().subscribe(()=>{this.store.dispatch(dr())})})),{dispatch:!1}),this.clearComponentState$=A(()=>this.actions$.pipe(E(fi),gt(()=>[this.store.select(ro).pipe(rt()),this.store.select(oo).pipe(rt())]),x(([,e,n])=>K(this.componentStateService.clearComponentState({componentType:e,componentId:n}).pipe(C(()=>mr()),F(o=>_(gi({errorContext:{errors:[this.errorHelper.getErrorString(o,"Failed to clear the component state.")],context:Ht.COMPONENT_STATE}})))))))),this.reloadComponentState$=A(()=>this.actions$.pipe(E(mr),gt(()=>[this.store.select(ro).pipe(rt()),this.store.select(oo).pipe(rt())]),x(([,e,n])=>K(this.componentStateService.getComponentState({componentType:e,componentId:n}).pipe(C(o=>pr({response:{componentState:o.componentState}})),F(o=>_(ke({errorContext:{errors:[this.errorHelper.getErrorString(o,"Failed to reload the component state.")],context:Ht.COMPONENT_STATE}})))))))),this.clearComponentStateEntry$=A(()=>this.actions$.pipe(E(hi),gt(()=>[this.store.select(ro).pipe(rt()),this.store.select(oo).pipe(rt()),this.store.select(pn).pipe(rt())]),x(([e,n,o,s])=>{let{keyToDelete:a,scope:c}=e.request,p=y({},s);c==="LOCAL"&&p.localState?.state?p.localState=w(y({},p.localState),{state:p.localState.state.filter(h=>h.key!==a)}):c==="CLUSTER"&&p.clusterState?.state&&(p.clusterState=w(y({},p.clusterState),{state:p.clusterState.state.filter(h=>h.key!==a)}));let g={componentState:p};return K(this.componentStateService.clearComponentStateEntry(n,o,g).pipe(C(()=>mr()),F(h=>_(gi({errorContext:{errors:[this.errorHelper.getErrorString(h,`Failed to clear state entry: ${a}.`)],context:Ht.COMPONENT_STATE}})))))}))),this.clearComponentStateFailure$=A(()=>this.actions$.pipe(E(gi),C(e=>e.errorContext),x(e=>_(ke({errorContext:e})))))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();function Eg(r,t){if(r&1){let i=pt();m(0,"div",1)(1,"button",2),U("click",function(){G(i);let n=T();return Q(n.action())}),f(2),l()()}if(r&2){let i=T();u(2),q(" ",i.data.action," ")}}var xg=["label"];function Tg(r,t){}var Ag=Math.pow(2,31)-1,dn=class{_overlayRef;instance;containerInstance;_afterDismissed=new ce;_afterOpened=new ce;_onAction=new ce;_durationTimeoutId;_dismissedByAction=!1;constructor(t,i){this._overlayRef=i,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Ag))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},du=new Le("MatSnackBarData"),Di=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},wg=(()=>{class r{static \u0275fac=function(e){return new(e||r)};static \u0275dir=vn({type:r,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return r})(),Mg=(()=>{class r{static \u0275fac=function(e){return new(e||r)};static \u0275dir=vn({type:r,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return r})(),Dg=(()=>{class r{static \u0275fac=function(e){return new(e||r)};static \u0275dir=vn({type:r,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return r})(),uu=(()=>{class r{snackBarRef=d(dn);data=d(du);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=it({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(e,n){e&1&&(m(0,"div",0),f(1),l(),L(2,Eg,3,1,"div",1)),e&2&&(u(),q(" ",n.data.message,`
`),u(),V(n.hasAction?2:-1))},dependencies:[wt,wg,Mg,Dg],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return r})(),Ks="_mat-snack-bar-enter",qs="_mat-snack-bar-exit",kg=(()=>{class r extends al{_ngZone=d(ni);_elementRef=d(pa);_changeDetectorRef=d(xn);_platform=d(cl);_animationsDisabled=Eo();snackBarConfig=d(Di);_document=d(Sn);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=d(Pi);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new ce;_onExit=new ce;_onEnter=new ce;_animationState="void";_live;_label;_role;_liveElementId=d(yl).getId("mat-snack-bar-container-live-");constructor(){super();let i=this.snackBarConfig;i.politeness==="assertive"&&!i.announcementMessage?this._live="assertive":i.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(i){this._assertNotAttached();let e=this._portalOutlet.attachComponentPortal(i);return this._afterPortalAttached(),e}attachTemplatePortal(i){this._assertNotAttached();let e=this._portalOutlet.attachTemplatePortal(i);return this._afterPortalAttached(),e}attachDomPortal=i=>{this._assertNotAttached();let e=this._portalOutlet.attachDomPortal(i);return this._afterPortalAttached(),e};onAnimationEnd(i){i===qs?this._completeExit():i===Ks&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?mo(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Ks)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Ks)},200)))}exit(){return this._destroyed?_(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?mo(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(qs)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(qs),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let i=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(s=>i.classList.add(s)):i.classList.add(e)),this._exposeToModals();let n=this._label.nativeElement,o="mdc-snackbar__label";n.classList.toggle(o,!n.querySelector(`.${o}`))}_exposeToModals(){let i=this._liveElementId,e=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<e.length;n++){let o=e[n],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(i)===-1&&o.setAttribute("aria-owns",s+" "+i):o.setAttribute("aria-owns",i)}}_clearFromModals(){this._trackedModals.forEach(i=>{let e=i.getAttribute("aria-owns");if(e){let n=e.replace(this._liveElementId,"").trim();n.length>0?i.setAttribute("aria-owns",n):i.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let i=this._elementRef.nativeElement,e=i.querySelector("[aria-hidden]"),n=i.querySelector("[aria-live]");if(e&&n){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=it({type:r,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,n){if(e&1&&(Oi(bo,7),Oi(xg,7)),e&2){let o;Ni(o=Ri())&&(n._portalOutlet=o.first),Ni(o=Ri())&&(n._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(e,n){e&1&&U("animationend",function(s){return n.onAnimationEnd(s.animationName)})("animationcancel",function(s){return n.onAnimationEnd(s.animationName)}),e&2&&re("mat-snack-bar-container-enter",n._animationState==="visible")("mat-snack-bar-container-exit",n._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!n._animationsDisabled)},features:[Bt],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,n){e&1&&(m(0,"div",1)(1,"div",2,0)(3,"div",3),Qt(4,Tg,0,0,"ng-template",4),l(),H(5,"div"),l()()),e&2&&(u(5),ga("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[bo],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return r})();function Ig(){return new Di}var Pg=new Le("mat-snack-bar-default-options",{providedIn:"root",factory:Ig}),Gs=(()=>{class r{_live=d(dl);_injector=d(Pi);_breakpointObserver=d(ml);_parentSnackBar=d(r,{optional:!0,skipSelf:!0});_defaultConfig=d(Pg);_animationsDisabled=Eo();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=uu;snackBarContainerComponent=kg;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let i=this._parentSnackBar;return i?i._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(i){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=i:this._snackBarRefAtThisLevel=i}constructor(){}openFromComponent(i,e){return this._attach(i,e)}openFromTemplate(i,e){return this._attach(i,e)}open(i,e="",n){let o=y(y({},this._defaultConfig),n);return o.data={message:i,action:e},o.announcementMessage===i&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(i,e){let n=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=Pi.create({parent:n||this._injector,providers:[{provide:Di,useValue:e}]}),s=new Co(this.snackBarContainerComponent,e.viewContainerRef,o),a=i.attach(s);return a.instance.snackBarConfig=e,a.instance}_attach(i,e){let n=y(y(y({},new Di),this._defaultConfig),e),o=this._createOverlay(n),s=this._attachSnackBarContainer(o,n),a=new dn(s,o);if(i instanceof fa){let c=new sl(i,null,{$implicit:n.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(n,a),p=new Co(i,void 0,c),g=s.attachComponentPortal(p);a.instance=g.instance}return this._breakpointObserver.observe(Tl.HandsetPortrait).pipe(Ct(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),n.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(a,n),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(i,e){i.afterDismissed().subscribe(()=>{this._openedSnackBarRef==i&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),e.duration&&e.duration>0&&i.afterOpened().subscribe(()=>i._dismissAfter(e.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{i.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):i.containerInstance.enter()}_createOverlay(i){let e=new Sl;e.direction=i.direction;let n=vl(this._injector),o=i.direction==="rtl",s=i.horizontalPosition==="left"||i.horizontalPosition==="start"&&!o||i.horizontalPosition==="end"&&o,a=!s&&i.horizontalPosition!=="center";return s?n.left("0"):a?n.right("0"):n.centerHorizontally(),i.verticalPosition==="top"?n.top("0"):n.bottom("0"),e.positionStrategy=n,e.disableAnimations=this._animationsDisabled,Cl(this._injector,e)}_createInjector(i,e){let n=i&&i.viewContainerRef&&i.viewContainerRef.injector;return Pi.create({parent:n||this._injector,providers:[{provide:dn,useValue:e},{provide:du,useValue:i.data}]})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=P({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var fu=(()=>{class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=pe({type:r});static \u0275inj=me({providers:[Gs],imports:[xl,ll,ve,xo,uu,xo]})}return r})();var hu=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.router=d($e),this.snackBar=d(Gs),this.fullScreenError$=A(()=>this.actions$.pipe(E(te),C(e=>e.skipReplaceUrl),tt(e=>{e?this.router.navigate(["/error"]):this.router.navigate(["/error"],{replaceUrl:!0})})),{dispatch:!1}),this.snackBarError$=A(()=>this.actions$.pipe(E(yt),C(e=>e.error),tt(e=>{this.snackBar.open(e,"Dismiss",{duration:3e4})})),{dispatch:!1})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var gu=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.router=d($e),this.navigateToComponentDocumentation$=A(()=>this.actions$.pipe(E(im),C(e=>e.request),tt(e=>{let n=e.parameters;this.router.navigate(["/documentation",n.componentType,n.group,n.artifact,n.version,n.type],{state:{backNavigation:e.backNavigation}})})),{dispatch:!1})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var yu=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.clusterService=d(bm),this.store=d(Z),this.dialog=d(At),this.errorHelper=d(ht),this.loadClusterSummary$=A(()=>this.actions$.pipe(E(ji),gt(()=>this.store.select(Ui)),x(([,e])=>K(this.clusterService.getClusterSummary().pipe(C(n=>{let o=n.clusterSummary,s=o.connectedToCluster;return e?e.connectedToCluster!==o.connectedToCluster&&this.store.dispatch(Ye({connectedToCluster:s})):o.clustered&&!o.connectedToCluster&&this.store.dispatch(Ye({connectedToCluster:s})),nr({response:n})}),F(n=>_(yt({error:this.errorHelper.getErrorString(n,"Failed to load cluster summary")})))))))),this.startProcessGroupPolling$=A(()=>this.actions$.pipe(E(Vc),x(()=>Fe(3e4,Re).pipe(Ct(this.actions$.pipe(E(ir))))),x(()=>_(ji())))),this.acknowledgeClusterConnectionChange$=A(()=>this.actions$.pipe(E(Ye),ea(2e3),tt(({connectedToCluster:e})=>{let n=e?"This node just joined the cluster. Any modifications to the data flow made here will replicate across the cluster.":"This node is currently not connected to the cluster. Any modifications to the data flow made here will not replicate across the cluster and will revert upon rejoining.",o=this.dialog.open(Qn,w(y({},He),{disableClose:!0,data:{title:"Cluster Connection",message:n}}));o.componentInstance.ok.pipe(Ct(o.afterClosed())).subscribe(()=>{e?this.store.dispatch(zi({disconnectionAcknowledged:!1})):this.store.dispatch(zi({disconnectionAcknowledged:!0}))})})),{dispatch:!1}),this.searchCluster$=A(()=>this.actions$.pipe(E(Bc),C(e=>e.request),gt(()=>this.store.select(Ui).pipe(rt(),mt(e=>e.connectedToCluster))),x(([e])=>K(this.clusterService.searchCluster(e.q)).pipe(C(n=>rr({response:n})),F(n=>_(yt({error:this.errorHelper.getErrorString(n,"Failed to search cluster summary")})))))))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var Su=(()=>{let t=class t{constructor(){this.httpClient=d(Ot),this.nifiCommon=d(vt)}getAnalysis(e){let n={configurationAnalysis:{componentId:e.entity.id,properties:e.properties}},o=this.nifiCommon.getComponentTypeApiPath(e.componentType);return this.httpClient.post(`${t.API}/${o}/${e.entity.id}/config/analysis`,n)}initiatePropertyVerification(e){let n=this.nifiCommon.getComponentTypeApiPath(e.componentType);return this.httpClient.post(`${t.API}/${n}/${e.componentId}/config/verification-requests`,e.request)}getPropertyVerificationRequest(e,n,o){let s=this.nifiCommon.getComponentTypeApiPath(e);return this.httpClient.get(`${t.API}/${s}/${n}/config/verification-requests/${o}`)}deletePropertyVerificationRequest(e,n,o){let s=this.nifiCommon.getComponentTypeApiPath(e);return this.httpClient.delete(`${t.API}/${s}/${n}/config/verification-requests/${o}`)}};t.API="../nifi-api",t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function Og(r,t){r&1&&f(0," Complete ")}function Ng(r,t){if(r&1&&f(0),r&2){let i=T();q(" ",i.state," ")}}function Rg(r,t){if(r&1&&(m(0,"div",5),L(1,Og,1,0)(2,Ng,1,1),l(),m(3,"div",6),H(4,"mat-progress-bar",7),m(5,"div",5),f(6),l()()),r&2){let i=t;u(),V(i.complete?1:2),u(3),k("value",i.percentCompleted),u(2),q("",i.percentCompleted,"%")}}function Fg(r,t){if(r&1){let i=pt();m(0,"button",8),U("click",function(){let n=G(i),o=T();return Q(o.stop(n))}),f(1,"Stop"),l()}}var _u=(()=>{let t=class t{constructor(){this.verificationRequest$=_(null),this.stopVerification=new Xt}stop(e){this.stopVerification.next(e)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["property-verification-progress"]],inputs:{verificationRequest$:"verificationRequest$"},outputs:{stopVerification:"stopVerification"},decls:10,vars:6,consts:[["mat-dialog-title",""],[1,"change-version-progress"],[1,"flex","flex-col","gap-y-4"],["align","end"],["mat-flat-button","","mat-dialog-close",""],[1,"tertiary-color","font-medium"],[1,"w-full","flex","flex-col","items-center"],["mode","determinate",3,"value"],["mat-flat-button","","mat-dialog-close","",3,"click"]],template:function(n,o){if(n&1&&(m(0,"h2",0),f(1,"Verifying Properties"),l(),m(2,"div",1)(3,"mat-dialog-content")(4,"div",2),L(5,Rg,7,3),xt(6,"async"),l()(),m(7,"mat-dialog-actions",3),L(8,Fg,2,0,"button",4),xt(9,"async"),l()()),n&2){let s,a;u(5),V((s=Tt(6,2,o.verificationRequest$))?5:-1,s),u(3),V((a=Tt(9,4,o.verificationRequest$))?8:-1,a)}},dependencies:[oi,wt,Kt,jt,Ut,zt,xr,Zt],encapsulation:2});let r=t;return r})();var vu=(()=>{let t=class t extends ue{constructor(){super(),this.formBuilder=d(_e),this.data=d(li),this.verify=new Xt,this.TextTip=be;let n=this.data.attributes||[];this.referencedAttributesForm=this.formBuilder.group({attributes:new Ie(n)})}verifyClicked(){this.verify.next(this.referencedAttributesForm.value)}clearAttributesClicked(){this.referencedAttributesForm.reset()}isEmpty(){return(this.referencedAttributesForm.get("attributes")?.value||[]).length===0}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=it({type:t,selectors:[["referenced-attributes-dialog"]],inputs:{createNew:"createNew"},outputs:{verify:"verify"},features:[Bt],decls:17,vars:5,consts:[["mat-dialog-title",""],[1,"referenced-attributes-form",3,"formGroup"],[1,"dialog-content","max-h-96"],["formControlName","attributes",3,"createNew","reportChangesOnly"],[1,"flex","flex-row","justify-between","items-center"],["nifiTooltip","","tooltipInputData","Supply attribute values that should be considered when performing property verification.",1,"fa","fa-info-circle","primary-color",3,"tooltipComponentType"],["mat-icon-button","","type","button",1,"primary-icon-button",3,"click","disabled"],[1,"fa","fa-eraser"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(n,o){n&1&&(m(0,"h2",0),f(1,"Referenced Attributes"),l(),m(2,"form",1)(3,"mat-dialog-content")(4,"div",2)(5,"map-table",3)(6,"div",4)(7,"div"),f(8," Enter Attribute Values "),H(9,"i",5),l(),m(10,"button",6),U("click",function(){return o.clearAttributesClicked()}),H(11,"i",7),l()()()()(),m(12,"mat-dialog-actions",8)(13,"button",9),f(14,"Cancel"),l(),m(15,"button",10),U("click",function(){return o.verifyClicked()}),f(16,"Verify"),l()()()),n&2&&(u(2),k("formGroup",o.referencedAttributesForm),u(3),k("createNew",o.createNew)("reportChangesOnly",!1),u(4),k("tooltipComponentType",o.TextTip),u(),k("disabled",o.isEmpty()))},dependencies:[zt,ee,ge,fe,he,ye,Se,Ut,Kt,wt,jt,qm,Ce,ie],encapsulation:2});let r=t;return r})();var Cu=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.store=d(Z),this.dialog=d(At),this.errorHelper=d(ht),this.propertyVerificationService=d(Su),this.propertyTableHelperService=d(fm),this.mapTableHelperService=d(Wm),this.verifyProperties$=A(()=>this.actions$.pipe(E(hm),C(e=>e.request),x(e=>K(this.propertyVerificationService.getAnalysis(e)).pipe(C(n=>Si({response:{requestContext:e,configurationAnalysis:n.configurationAnalysis}})),F(n=>_(yt({error:this.errorHelper.getErrorString(n)}))))))),this.getConfigurationAnalysisSuccess_noExtraVerification$=A(()=>this.actions$.pipe(E(Si),C(e=>e.response),mt(e=>!e.configurationAnalysis.supportsVerification),x(e=>_(vi({response:e}))))),this.getConfigurationAnalysisSuccess_extraVerification$=A(()=>this.actions$.pipe(E(Si),C(e=>e.response),mt(e=>e.configurationAnalysis.supportsVerification),gt(()=>this.store.select(ym)),tt(([e,n])=>{let o=[];n&&(o=Object.entries(n).map(([a,c])=>({name:a,value:c})));let s=this.dialog.open(vu,w(y({},He),{data:{attributes:o}}));s.componentInstance.createNew=this.mapTableHelperService.createNewEntry("Attribute"),s.componentInstance.verify.pipe(Ct(s.afterClosed())).subscribe(a=>{let c=a.attributes||[],p={};c.forEach(h=>{p[h.name]=h.value});let g=w(y({},e),{configurationAnalysis:w(y({},e.configurationAnalysis),{referencedAttributes:p})});this.store.dispatch(vi({response:g}))})})),{dispatch:!1}),this.initiatePropertyVerification$=A(()=>this.actions$.pipe(E(vi),C(e=>e.response),x(e=>(this.store.dispatch($o()),K(this.propertyVerificationService.initiatePropertyVerification({request:{request:{properties:e.configurationAnalysis.properties,componentId:e.configurationAnalysis.componentId,attributes:e.configurationAnalysis.referencedAttributes}},componentType:e.requestContext.componentType,componentId:e.requestContext.entity.id}).pipe(C(n=>Xi({response:n})),F(n=>_(yt({error:this.errorHelper.getErrorString(n)}))))))))),this.openPropertyVerificationProgressDialog$=A(()=>this.actions$.pipe(E($o),tt(()=>{let e=this.dialog.open(_u,y({},Fn)),n=this.store.select(Er).pipe(rt());e.componentInstance.verificationRequest$=n,n.pipe(Ct(e.afterClosed()),rt(),mt(o=>o.complete)).subscribe(o=>{o.failureReason&&this.store.dispatch(yt({error:o.failureReason})),e.close()}),e.componentInstance.stopVerification.pipe(It(1)).subscribe(()=>{this.store.dispatch(_i())})})),{dispatch:!1}),this.verifyPropertiesSuccess$=A(()=>this.actions$.pipe(E(Xi),C(e=>e.response),mt(e=>!e.request.complete),x(()=>_(Lo())))),this.startPollingPropertyVerification$=A(()=>this.actions$.pipe(E(Lo),x(()=>Fe(2e3,Re).pipe(Ct(this.actions$.pipe(E(_i))))),x(()=>_(Vo())))),this.pollPropertyVerification$=A(()=>this.actions$.pipe(E(Vo),gt(()=>[this.store.select(Bo).pipe(rt()),this.store.select(Er).pipe(rt())]),x(([,e,n])=>K(this.propertyVerificationService.getPropertyVerificationRequest(e.componentType,e.entity.id,n.requestId).pipe(C(o=>Yi({response:o})),F(o=>(this.store.dispatch(_i()),_(yt({error:this.errorHelper.getErrorString(o)}))))))))),this.pollPropertyVerificationSuccess$=A(()=>this.actions$.pipe(E(Yi),C(e=>e.response),mt(e=>e.request.complete),x(()=>_(_i())))),this.stopPollingPropertyVerification$=A(()=>this.actions$.pipe(E(_i),gt(()=>[this.store.select(Bo).pipe(rt()),this.store.select(Er).pipe(rt())]),x(([,e,n])=>K(this.propertyVerificationService.deletePropertyVerificationRequest(e.componentType,e.entity.id,n.requestId)).pipe(C(()=>br()),F(o=>_(yt({error:this.errorHelper.getErrorString(o)})))))))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var bu=(r,t)=>{let i=d(Nm);return i.set(!0,r.url),t(r).pipe(ia(()=>i.set(!1,r.url)))};var Eu=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.authService=d(Be),this.errorHelper=d(ht),this.loadLoginConfiguration$=A(()=>this.actions$.pipe(E(Ar),x(()=>K(this.authService.getLoginConfiguration().pipe(C(e=>Ue({response:e})),F(e=>_(yt({error:this.errorHelper.getErrorString(e,"Failed to load Login Configuration.")}))))))))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var xu=(()=>{let t=class t{constructor(){this.httpClient=d(Ot)}getBannerText(){return this.httpClient.get(`${t.API}/flow/banners`)}};t.API="../nifi-api",t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Tu=(()=>{let t=class t{constructor(){this.actions$=d(dt),this.bannerTextService=d(xu),this.store=d(Z),this.loadBannerText$=A(()=>this.actions$.pipe(E(ar),gt(()=>this.store.select(Qc)),mt(([,e])=>e===null),x(()=>K(this.bannerTextService.getBannerText().pipe(C(e=>lr({response:{bannerText:e.banners}})))))))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var Au=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let r=t;return r})();var wu=localStorage.getItem("disable-animations"),un="";try{un=wu!==null?JSON.parse(wu).item:""}catch{}try{un!=="true"&&un!=="false"&&(un=window.matchMedia("(prefers-reduced-motion: reduce)").matches.toString())}catch{}var Lg={showDelay:2e3,hideDelay:0,touchendHideDelay:1e3},Mu=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=pe({type:t,bootstrap:[Ym]}),t.\u0275inj=me({providers:[un==="true"?Xp():Yp(),{provide:nc,useValue:{appearance:"outline"}},Na(Ra([Bd,bu,jd]),Fa({cookieName:"__Secure-Request-Token",headerName:"Request-Token"})),{provide:No,useValue:Lg},Yc({clipboardOptions:{provide:Wc,useValue:{buttonComponent:Gm}}})],imports:[Tn,zm,Wp,Wa.forRoot(Vd),mc.forRoot({routerState:cc.Minimal,navigationActionTiming:ac.PostActivation}),yc.forRoot(hu,$d,Hd,Kd,Tu,nu,Eu,Xd,Jd,iu,pu,gu,yu,Cu,Au),vd.instrument({maxAge:25,logOnly:Hs.production,autoPause:!0,name:"NiFi",trace:!Hs.production}),dc,sm,de,fu]});let r=t;return r})();Oa().bootstrapModule(Mu).catch(r=>console.error(r));
